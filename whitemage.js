/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["whm"] = factory();
	else
		root["whm"] = factory();
})(this, function() {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/control/camera.js":
/*!*******************************!*\
  !*** ./src/control/camera.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Camera\": () => (/* binding */ Camera)\n/* harmony export */ });\n/* harmony import */ var _physics_vector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../physics/vector.js */ \"./src/physics/vector.js\");\n\r\n\r\nfunction Camera(x, y, scale) {\r\n    this.transform = {\r\n        position: new _physics_vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector2()\r\n    };\r\n    this.transform.position.x = x;\r\n    this.transform.position.y = y;\r\n    this.scale = scale;\r\n    this.fovX = 0;\r\n    this.fovY = 0;\r\n    this._x = x;\r\n    this._y = y;\r\n    this._fovX = 0;\r\n    this._fovY = 0;\r\n    this._scale = scale;\r\n    this.followTarget = null;\r\n}\r\n\r\nCamera.prototype.storeState = function(){\r\n    this._x = this.transform.position.x;\r\n    this._y = this.transform.position.y;\r\n    this._fovX = this.fovX;\r\n    this._fovY = this.fovY;\r\n    this._scale = this.scale;\r\n};\r\nCamera.prototype.reset = function(){\r\n    this.transform.position.x = 0;\r\n    this.transform.position.y = 0;\r\n    this.fovX = 0;\r\n    this.fovY = 0;\r\n    this.scale = 1;\r\n};\r\nCamera.prototype.loadState = function(){\r\n    this.transform.position.x = this._x;\r\n    this.transform.position.y = this._y;\r\n    this.fovX = this._fovX;\r\n    this.fovY = this._fovY;\r\n    this.scale = this._scale;\r\n};\r\nCamera.prototype.changeScale = function(s){\r\n    if(s > 0) this.scale = s;\r\n};\n\n//# sourceURL=webpack://whm/./src/control/camera.js?");

/***/ }),

/***/ "./src/control/driver.js":
/*!*******************************!*\
  !*** ./src/control/driver.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Driver\": () => (/* binding */ Driver)\n/* harmony export */ });\n\r\nfunction Driver(instance, canvas, localStorage) {\r\n    instance.setDriver(this);\r\n    this.instance = instance;\r\n    this.fps = 60;\r\n    this._canvas = canvas;\r\n    this._localStorage = localStorage;\r\n    this._gameLoopInterval = null;\r\n    this.gameWidth = canvas.width;\r\n    this.gameHeight = canvas.height;\r\n}\r\n\r\nDriver.prototype.start = function() {\r\n    if(!this.instance.initialized){\r\n        this.instance.initialize(this.gameWidth, this.gameHeight, this._canvas, this._localStorage);\r\n        setTimeout(function(){this.start();}.bind(this), 10);\r\n    }else{\r\n        if (this.instance.assets._stillLoading > 0) {\r\n            setTimeout(function(){this.start();}.bind(this), 10);\r\n        } else if(!this.instance.scene.initialized){\r\n            this.instance.scene.start();\r\n            this.instance.scene.initialized = true;\r\n            setTimeout(function(){this.start();}.bind(this), 10);\r\n        }else {\r\n            this._start();\r\n        }\r\n    }\r\n};\r\nDriver.prototype._start = function() {\r\n    if(this.instance.hadError) clearInterval(this._gameLoopInterval);\r\n    else{\r\n        this.instance._gameLoop();\r\n        this._gameLoopInterval = setInterval(function(){this.instance._gameLoop();}.bind(this),\r\n            1000 / this.fps);\r\n    }\r\n};\r\n// Driver.prototype.changeScene = function() {\r\n//     if(!this.instance.isServer){\r\n//         this.instance.destroy();\r\n//         this.instance = new Instance(false, new TestScene(), new Input(), new Render(),\r\n//             new Assets(), getClientSocket(true), new Sound());\r\n//         clearInterval(this._gameLoopInterval);\r\n//         this.start(document.getElementById('canvas'), window.localStorage);            \r\n//     }\r\n// };\r\n\r\n///RESET method? To reinit instance? Reload? That makes it sound like it's going in fresh\r\n// Reinitialize?\n\n//# sourceURL=webpack://whm/./src/control/driver.js?");

/***/ }),

/***/ "./src/control/gameobject.js":
/*!***********************************!*\
  !*** ./src/control/gameobject.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"GameObject\": () => (/* binding */ GameObject)\n/* harmony export */ });\n/* harmony import */ var _physics_vector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../physics/vector.js */ \"./src/physics/vector.js\");\n\r\n\r\nfunction GameObject(name){\r\n    this.name = name;\r\n    this.stationary = false;\r\n    this.renderer = null;\r\n    this.scale = 1;\r\n    this.scripts = [];\r\n    this.colliders = [];\r\n    this.controller = null;\r\n    this.components = {};\r\n    this.instance = null;\r\n    this.parent = null;\r\n    this.subObjects = [];\r\n    this.localScale = 1;\r\n    this.animator = null;\r\n    this._initialized = false;\r\n    this.id = 0;\r\n\r\n    this.rigidbody = {\r\n        velocity: new _physics_vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector2(),\r\n        mass: 1\r\n    };\r\n    this.transform = {\r\n        position: new _physics_vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector2(),\r\n        localPosition: new _physics_vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector2(),\r\n        rotation: {\r\n            radians: 0\r\n        },\r\n        localRotation: {\r\n            radians: 0\r\n        }\r\n    };\r\n}\r\n\r\nGameObject.prototype.addScript = function(script){\r\n    script.gameObject = this;\r\n    this.scripts.push(script);\r\n};\r\nGameObject.prototype.removeScriptById = function(id){\r\n    for (var i = 0; i < this.scripts.length; i++) {\r\n        let script = this.scripts[i];\r\n        if(script.id == id){\r\n            this.scripts.splice(i, 1);\r\n            i -= 1;\r\n        }\r\n    }\r\n};\r\nGameObject.prototype.addCollider = function(collider){\r\n    collider.gameObject = this;\r\n    collider.x = this.transform.position.x - collider.getWidth() * collider.offsetx;\r\n    collider.y = this.transform.position.y - collider.getHeight() * collider.offsety;\r\n    this.colliders.push(collider);\r\n};\r\nGameObject.prototype.setAnimator = function(animator){\r\n    animator.gameObject = this;\r\n    this.animator = animator;\r\n};\r\nGameObject.prototype.addSubobject = function(obj){\r\n    obj.parent = this;\r\n    obj.instance = this.instance;\r\n    obj.transform.position.x = this.transform.position.x + obj.transform.localPosition.x*this.scale;\r\n    obj.transform.position.y = this.transform.position.y + obj.transform.localPosition.y*this.scale;\r\n    obj.scale = this.scale;\r\n    this.subObjects.push(obj);\r\n};\r\nGameObject.prototype.setInstance = function(instance){\r\n    this.instance = instance;\r\n    for(var i = 0; i < this.subObjects.length; i++){\r\n        this.subObjects[i].setInstance(instance);\r\n    }\r\n};\r\nGameObject.prototype.collidesAt = function(x, y){\r\n    for(var i = 0; i < this.colliders.length; i++){\r\n        let collider = this.colliders[i];\r\n        console.log(x+\" \"+y+collider.toString());\r\n        // TODO fix\r\n        // if(collider.type == \"b\"){\r\n        //     if(boxColliderPointCollision(x, y, collider)) return true;\r\n        // }\r\n    }\r\n    return false;\r\n};\r\nGameObject.prototype.initialize = function(){\r\n    if(!this._initialized){\r\n        for(let a=0;a<this.colliders.length;a++){\r\n            let collider = this.colliders[a];\r\n            collider.x = this.transform.position.x - collider.getWidth() * collider.offsetx;\r\n            collider.y = this.transform.position.y - collider.getHeight() * collider.offsety;\r\n        }\r\n        this._initialized = true;\r\n    }\r\n};\n\n//# sourceURL=webpack://whm/./src/control/gameobject.js?");

/***/ }),

/***/ "./src/control/instance.js":
/*!*********************************!*\
  !*** ./src/control/instance.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Instance\": () => (/* binding */ Instance)\n/* harmony export */ });\n/* harmony import */ var _camera_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./camera.js */ \"./src/control/camera.js\");\n/* harmony import */ var _playerprefs_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./playerprefs.js */ \"./src/control/playerprefs.js\");\n/* harmony import */ var _physics_collider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../physics/collider.js */ \"./src/physics/collider.js\");\n/* harmony import */ var _input_input_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../input/input.js */ \"./src/input/input.js\");\n/* harmony import */ var _ux_assets_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../ux/assets.js */ \"./src/ux/assets.js\");\n/* harmony import */ var _ux_sound_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../ux/sound.js */ \"./src/ux/sound.js\");\n/* harmony import */ var _ux_render_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../ux/render.js */ \"./src/ux/render.js\");\n/* harmony import */ var _util_util_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../util/util.js */ \"./src/util/util.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Instance(scene) {\r\n    this._objId = 0;\r\n    this.driver = null;\r\n    this.isServer = false;\r\n    this.scene = scene;\r\n    this.input = new _input_input_js__WEBPACK_IMPORTED_MODULE_3__.Input();\r\n    if(this.input) this.input.setInstance(this);\r\n    this.render = new _ux_render_js__WEBPACK_IMPORTED_MODULE_6__.Render();\r\n    if(this.render) this.render.setInstance(this);\r\n    this.deltaTime = 0;\r\n    this.lastTime = new Date().getTime();\r\n    this.assets = new _ux_assets_js__WEBPACK_IMPORTED_MODULE_4__.Assets();\r\n    this.sound = new _ux_sound_js__WEBPACK_IMPORTED_MODULE_5__.Sound();\r\n    if(this.sound) this.sound.setInstance(this);\r\n    this.camera = new _camera_js__WEBPACK_IMPORTED_MODULE_0__.Camera(0, 0, 1);\r\n    this.prefs = null;\r\n\r\n    this._gameObjects = [];\r\n    this._uiItems = [];\r\n    this._socket = null;\r\n\r\n    this.hadError = false;\r\n    this.initialized = false;\r\n    this.bgm = null;\r\n\r\n    if(this.scene){ \r\n        this.scene.setInstance(this);\r\n    }\r\n}\r\n\r\nInstance.prototype.initialize = function(gameWidth, gameHeight, canvas, localStorage) {\r\n    this.initialized = true;\r\n    if(!this.isServer){\r\n        this.prefs = new _playerprefs_js__WEBPACK_IMPORTED_MODULE_1__.PlayerPrefs();\r\n        this.prefs._setPrefs(localStorage);\r\n        this.render._canvas = canvas;\r\n        this.render._ctx = canvas.getContext('2d');\r\n        this.render._ctx.imageSmoothingEnabled = false;\r\n        this.render.gameWidth = gameWidth;\r\n        this.render.gameHeight = gameHeight;\r\n        this.camera.fovX = gameWidth/2;\r\n        this.camera.fovY = gameHeight/2;\r\n        //this.camera.fovX = 0;\r\n        //this.camera.fovY = 0;\r\n        this.render.screenWidth = canvas.width;\r\n        this.render.screenHeight = canvas.height;\r\n        // TODO Make this smarter so you can scale down and still have v wings\r\n        // Calculate scale factor\r\n        this.render.scaleFactor = canvas.height / gameHeight;\r\n\r\n        this.render.calculateWings(canvas, gameWidth, gameHeight);\r\n\r\n        window.addEventListener('keydown', this.input.onKeyDown.bind(this.input), false);\r\n        window.addEventListener('keyup', this.input.onKeyUp.bind(this.input), false);\r\n        canvas.addEventListener('mousedown', this.input.mouseDown.bind(this.input));\r\n        canvas.addEventListener('mouseup', this.input.mouseUp.bind(this.input));\r\n        canvas.addEventListener('mousemove', this.input.mouseMove.bind(this.input));\r\n        canvas.addEventListener('contextmenu', function (e) { e.preventDefault(); });\r\n        canvas.addEventListener(\"wheel\", function(e) {\r\n            const delta = Math.sign(e.deltaY);\r\n            this.input.scroll(delta);\r\n        }.bind(this));\r\n    }\r\n\r\n    if(this.scene.loadAssets) this.scene.loadAssets();\r\n};\r\n\r\nInstance.prototype.setDriver = function(driver){\r\n    this.driver = driver;\r\n};\r\nInstance.prototype.getNewObjectId = function(){\r\n    let id = this._objId;\r\n    this._objId += 1;\r\n    return id;\r\n};\r\nInstance.prototype.error = function(message){\r\n    console.error(\"ERROR: \" + message);\r\n    this.hadError = true;\r\n    this.onMouseMove = null;\r\n    this.onMouseDown = null;\r\n    this.onMouseUp = null;\r\n};\r\nInstance.prototype.addObject = function(gameObj){\r\n    if(!gameObj) return;\r\n    gameObj.setInstance(this);\r\n    this._gameObjects.push(gameObj);\r\n    for(var i = 0; i < gameObj.subObjects.length; i++){\r\n        this._gameObjects.push(gameObj.subObjects[i]);\r\n    }\r\n    return gameObj;\r\n};\r\nInstance.prototype.addUiItem = function(gameObj){\r\n    if(!gameObj) return;\r\n    gameObj.setInstance(this);\r\n    this._uiItems.push(gameObj);\r\n    for(let i = 0; i < gameObj.subObjects.length; i++){\r\n        this._uiItems.push(gameObj.subObjects[i]);\r\n    }\r\n    return gameObj;\r\n};\r\nInstance.prototype.destroyObject = function(gameObj){\r\n    if(!gameObj) return;\r\n    for(let i = 0; i < gameObj.subObjects.length; i++){\r\n        this.destroyObject(gameObj.subObjects[i]);\r\n    }\r\n    for(let j=0;j<gameObj.scripts.length;j++){\r\n        let script = gameObj.scripts[j];\r\n        if(script.onDestroy) script.onDestroy();\r\n    }\r\n    _util_util_js__WEBPACK_IMPORTED_MODULE_7__.Util.removeFromArray(gameObj, this._gameObjects);\r\n};\r\nInstance.prototype.destroyObjectByName = function(name){\r\n    for (let i = 0; i < this._gameObjects.length; i++) {\r\n        let gameObj = this._gameObjects[i];\r\n        if(gameObj.name == name){\r\n            for(let k = 0; k < gameObj.subObjects.length; k++){\r\n                this.destroyObject(gameObj.subObjects[k]);\r\n            }\r\n            for(let j=0;j<gameObj.scripts.length;j++){\r\n                let script = gameObj.scripts[j];\r\n                if(script.onDestroy) script.onDestroy();\r\n            }\r\n            this._gameObjects.splice(i, 1);\r\n            i -= 1;\r\n        }\r\n    }\r\n};\r\nInstance.prototype.destroyObjectById = function(id){\r\n    for (let i = 0; i < this._gameObjects.length; i++) {\r\n        let gameObj = this._gameObjects[i];\r\n        if(gameObj.id == id){\r\n            for(var k = 0; k < gameObj.subObjects.length; k++){\r\n                this.destroyObject(gameObj.subObjects[k]);\r\n            }\r\n            for(let j=0;j<gameObj.scripts.length;j++){\r\n                let script = gameObj.scripts[j];\r\n                if(script.onDestroy) script.onDestroy();\r\n            }\r\n            this._gameObjects.splice(i, 1);\r\n            i -= 1;\r\n        }\r\n    }\r\n};\r\nInstance.prototype.findObjectByName = function(name){\r\n    for (let i = 0; i < this._gameObjects.length; i++) {\r\n        if(this._gameObjects[i].name == name) return this._gameObjects[i];\r\n    }\r\n    return null;\r\n};\r\nInstance.prototype.destroyUiItem = function(gameObj){\r\n    if(!gameObj) return;\r\n    for(let i = 0; i < gameObj.subObjects.length; i++){\r\n        this.destroyUiItem(gameObj.subObjects[i]);\r\n    }\r\n    for(let j=0;j<gameObj.scripts.length;j++){\r\n        let script = gameObj.scripts[j];\r\n        if(script.onDestroy) script.onDestroy();\r\n    }\r\n    _util_util_js__WEBPACK_IMPORTED_MODULE_7__.Util.removeFromArray(gameObj, this._uiItems);\r\n};\r\nInstance.prototype.destroyUiItemByName = function(name){\r\n    for (let i = 0; i < this._uiItems.length; i++) {\r\n        let gameObj = this._uiItems[i];\r\n        if(gameObj.name == name){\r\n            for(let k = 0; k < gameObj.subObjects.length; k++){\r\n                this.destroyUiItem(gameObj.subObjects[k]);\r\n            }\r\n            for(let j=0;j<gameObj.scripts.length;j++){\r\n                let script = gameObj.scripts[j];\r\n                if(script.onDestroy) script.onDestroy();\r\n            }\r\n            this._uiItems.splice(i, 1);\r\n            i -= 1;\r\n        }\r\n    }\r\n};\r\nInstance.prototype.getGameObjects = function(){\r\n    return this._gameObjects;\r\n};\r\nInstance.prototype.findUiItemByName = function(name){\r\n    for (let i = 0; i < this._uiItems.length; i++) {\r\n        if(this._uiItems[i].name == name) return this._uiItems[i];\r\n    }\r\n    return null;\r\n};\r\nInstance.prototype.setNetworkConnection = function(socket){\r\n    socket.setInstance(this);\r\n    this._socket = socket;\r\n};\r\nInstance.prototype.getNetworkConnection = function(){\r\n    if(!this._socket) return OfflineConnection();\r\n    return this._socket;\r\n};\r\nInstance.prototype._gameLoop = function() {\r\n    if(this.hadError) return;\r\n\r\n    // TODO do something with this type of annotation. Needed?\r\n    // #DEBUG\r\n    if(!this.initialized){\r\n        this.error(\"Instance must be initialized before running\");\r\n    }\r\n    // #END\r\n\r\n    let time = new Date().getTime();\r\n    this.deltaTime = (time - this.lastTime) / 1000;\r\n    this._update();\r\n    this._postUpdate();\r\n    this._dispatchCollisions();\r\n    this._processMovement(this.deltaTime);\r\n    this._updateUi();\r\n    this._postUpdateUi();\r\n    if(this.camera.followTarget){\r\n        this.camera.transform.position.x = this.camera.followTarget.transform.position.x;\r\n        this.camera.transform.position.y = this.camera.followTarget.transform.position.y;\r\n    }\r\n    this.render.renderFrame();\r\n    this.lastTime = time;\r\n    if(this.input) this.input._clearUpKeys();\r\n};\r\nInstance.prototype._update = function() {\r\n    for(let i=0;i<this._gameObjects.length;i++){\r\n        let gameObj = this._gameObjects[i];\r\n        gameObj.initialize();\r\n        for(let j=0;j<gameObj.scripts.length;j++){\r\n            let script = gameObj.scripts[j];\r\n            script.initialize();\r\n            if(script.update) script.update();\r\n        }\r\n    }\r\n};\r\nInstance.prototype._postUpdate = function() {\r\n    for(let i=0;i<this._gameObjects.length;i++){\r\n        let gameObj = this._gameObjects[i];\r\n        gameObj.initialize();\r\n        for(let j=0;j<gameObj.scripts.length;j++){\r\n            let script = gameObj.scripts[j];\r\n            script.initialize();\r\n            if(script.lateupdate) script.lateupdate();\r\n        }\r\n        if(gameObj.animator) gameObj.animator.advance(this.deltaTime);\r\n    }\r\n};\r\nInstance.prototype._updateUi = function() {\r\n    for(let i=0;i<this._uiItems.length;i++){\r\n        let gameObj = this._uiItems[i];\r\n        gameObj.initialize();\r\n        for(let j=0;j<gameObj.scripts.length;j++){\r\n            let script = gameObj.scripts[j];\r\n            script.initialize();\r\n            if(script.update) script.update();\r\n        }\r\n    }\r\n};\r\nInstance.prototype._postUpdateUi = function() {\r\n    for(let i=0;i<this._uiItems.length;i++){\r\n        let gameObj = this._uiItems[i];\r\n        gameObj.initialize();\r\n        for(let j=0;j<gameObj.scripts.length;j++){\r\n            let script = gameObj.scripts[j];\r\n            script.initialize();\r\n            if(script.lateupdate) script.lateupdate();\r\n        }\r\n        if(gameObj.animator) gameObj.animator.advance(this.deltaTime);\r\n    }\r\n};\r\nInstance.prototype._processMovement = function(timeDilation) {\r\n    // Reconfigure velocities based on collisions\r\n    for(let i=0;i<this._gameObjects.length;i++){\r\n        let gameObj = this._gameObjects[i];\r\n        if(gameObj.stationary) continue;\r\n\r\n        // Skip checking colliders if there aren't any on this object\r\n        if(gameObj.colliders.length==0) continue;\r\n\r\n        // Check against other objects\r\n        for(let a=0;a<this._gameObjects.length;a++){\r\n            // Skip same object\r\n            if(i==a) continue;\r\n\r\n            let otherObj = this._gameObjects[a];\r\n            // Skip all but stationary\r\n            if(!otherObj.stationary) continue;\r\n\r\n            // Skip checking colliders if there aren't any\r\n            if(otherObj.colliders.length==0) continue;\r\n\r\n            // Iterate over colliders\r\n            for(b=0;b<gameObj.colliders.length;b++){\r\n                if(!gameObj.colliders[b].solid) continue;\r\n                // ... and other object colliders\r\n                for(c=0;c<otherObj.colliders.length;c++){\r\n\r\n                    // Check collision\r\n                    if(_physics_collider_js__WEBPACK_IMPORTED_MODULE_2__.CollisionUtil.isCollision(gameObj.colliders[b], otherObj.colliders[c], timeDilation)){\r\n                        // Resolve\r\n                        if(gameObj.colliders[b].type == \"b\" && otherObj.colliders[c].type == \"b\"){\r\n                            _physics_collider_js__WEBPACK_IMPORTED_MODULE_2__.CollisionUtil.resolveBoxBoxCollision(gameObj, b, otherObj, c, timeDilation);\r\n                        }else if(gameObj.colliders[b].type == \"b\" && otherObj.colliders[c].type == \"c\") {\r\n                            _physics_collider_js__WEBPACK_IMPORTED_MODULE_2__.CollisionUtil.resolveBoxCircleCollision(gameObj.colliders[b], otherObj.colliders[c], timeDilation);\r\n                        }else if(gameObj.colliders[b].type == \"c\" && otherObj.colliders[c].type == \"b\") {\r\n                            _physics_collider_js__WEBPACK_IMPORTED_MODULE_2__.CollisionUtil.resolveBoxCircleCollision(otherObj.colliders[c], gameObj.colliders[b], timeDilation);\r\n                        }else if(gameObj.colliders[b].type == \"c\" && otherObj.colliders[c].type == \"c\") {\r\n                            _physics_collider_js__WEBPACK_IMPORTED_MODULE_2__.CollisionUtil.resolveCircleCircleCollision(gameObj.colliders[b], otherObj.colliders[c], timeDilation);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // Finally, move objects\r\n    for(let i=0;i<this._gameObjects.length;i++){\r\n        let gameObj = this._gameObjects[i];\r\n        if(gameObj.parent) continue;\r\n        if(gameObj.stationary) continue;\r\n\r\n        gameObj.transform.position.x += gameObj.rigidbody.velocity.x * timeDilation;\r\n        gameObj.transform.position.y += gameObj.rigidbody.velocity.y * timeDilation;\r\n        for(let a=0;a<gameObj.colliders.length;a++){\r\n            let collider = gameObj.colliders[a];\r\n            collider.x = gameObj.transform.position.x - collider.getWidth() * collider.offsetx;\r\n            collider.y = gameObj.transform.position.y - collider.getHeight() * collider.offsety;\r\n        }\r\n    }\r\n    // Move subobjects\r\n    for(let i=0;i<this._gameObjects.length;i++){\r\n        let gameObj = this._gameObjects[i];\r\n        if(!gameObj.parent) continue;\r\n        if(gameObj.stationary) continue;\r\n        \r\n        gameObj.scale = gameObj.localScale * gameObj.parent.scale;\r\n        gameObj.transform.position.x = gameObj.parent.transform.position.x + gameObj.transform.localPosition.x*gameObj.parent.scale;\r\n        gameObj.transform.position.y = gameObj.parent.transform.position.y + gameObj.transform.localPosition.y*gameObj.parent.scale;\r\n        for(let a=0;a<gameObj.colliders.length;a++){\r\n            let collider = gameObj.colliders[a];\r\n            collider.x = gameObj.transform.position.x - collider.getWidth() * collider.offsetx;\r\n            collider.y = gameObj.transform.position.y - collider.getHeight() * collider.offsety;\r\n        }\r\n    }\r\n};\r\nInstance.prototype._dispatchCollisions = function() {\r\n    for(let i=0;i<this._gameObjects.length;i++){\r\n        let gameObj = this._gameObjects[i];\r\n        if(gameObj.stationary) continue;\r\n\r\n        // Skip checking colliders if there aren't any on this object\r\n        if(gameObj.colliders.length==0) continue;\r\n\r\n        // Check against other objects\r\n        for(let a=0;a<this._gameObjects.length;a++){\r\n            // Skip same object\r\n            if(i==a) continue;\r\n\r\n            let otherObj = this._gameObjects[a];\r\n            // Skip checking colliders if there aren't any\r\n            if(otherObj.colliders.length==0) continue;\r\n\r\n            // Iterate over colliders\r\n            for(b=0;b<gameObj.colliders.length;b++){\r\n                // ... and other object colliders\r\n                for(c=0;c<otherObj.colliders.length;c++){\r\n                    // Check collision\r\n                    if(_physics_collider_js__WEBPACK_IMPORTED_MODULE_2__.CollisionUtil.isCollision(gameObj.colliders[b], otherObj.colliders[c], this.deltaTime)){\r\n                        // Iterate over scripts and look for collision functions\r\n                        for(let j=0;j<gameObj.scripts.length;j++){\r\n                            let script = gameObj.scripts[j];\r\n                            if(script.onCollisionDetected) script.onCollisionDetected(otherObj);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\nInstance.prototype.destroy = function(){\r\n    canvas.outerHTML = canvas.outerHTML;\r\n    window.outerHTML = window.outerHTML;\r\n};\n\n//# sourceURL=webpack://whm/./src/control/instance.js?");

/***/ }),

/***/ "./src/control/playercontroller.js":
/*!*****************************************!*\
  !*** ./src/control/playercontroller.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _physics_vector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../physics/vector.js */ \"./src/physics/vector.js\");\n\r\n\r\nfunction PlayerController(){\r\n    this.moveTarget = null;\r\n}\r\n\r\nPlayerController.prototype.setMoveTarget = function(x, y){\r\n    if(this.moveTarget == null) this.moveTarget = new _physics_vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector2(Math.floor(x), Math.floor(y));\r\n    else{\r\n        this.moveTarget.x = Math.floor(x);\r\n        this.moveTarget.y = Math.floor(y);\r\n    }\r\n};\r\nPlayerController.prototype.clearMoveTarget = function(){\r\n    this.moveTarget = null;\r\n};\r\nPlayerController.prototype.getTargetDirectionVector = function(x, y){\r\n    let direction = new _physics_vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector2();\r\n    if(this.moveTarget){\r\n        direction.x = this.moveTarget.x - x;\r\n        direction.y = this.moveTarget.y - y;\r\n\r\n        // Check if close enough\r\n        if(Math.abs(direction.x) < 0.5 && Math.abs(direction.y) < 0.5) {\r\n            direction.x = 0;\r\n            direction.y = 0;\r\n            this.clearMoveTarget();\r\n        }\r\n    }\r\n    return direction;\r\n};\r\nPlayerController.prototype.toJson = function(){\r\n    return JSON.stringify(this.moveTarget);\r\n};\n\n//# sourceURL=webpack://whm/./src/control/playercontroller.js?");

/***/ }),

/***/ "./src/control/playerprefs.js":
/*!************************************!*\
  !*** ./src/control/playerprefs.js ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PlayerPrefs\": () => (/* binding */ PlayerPrefs)\n/* harmony export */ });\n\r\nfunction PlayerPrefs () {\r\n    this._prefs = null;\r\n}\r\n\r\nPlayerPrefs.prototype._setPrefs = function(localStorage){\r\n    this._prefs = localStorage;\r\n};\r\nPlayerPrefs.prototype.set = function(name, value){\r\n    this._prefs.setItem(name, value);\r\n};\r\nPlayerPrefs.prototype.get = function(name){\r\n    return this._prefs.getItem(name);\r\n};\r\nPlayerPrefs.prototype.clear = function(name){\r\n    this._prefs.removeItem(name);\r\n};\r\nPlayerPrefs.prototype.clearAll = function(){\r\n    this._prefs.clear();\r\n};\n\n//# sourceURL=webpack://whm/./src/control/playerprefs.js?");

/***/ }),

/***/ "./src/control/scene.js":
/*!******************************!*\
  !*** ./src/control/scene.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Scene\": () => (/* binding */ Scene)\n/* harmony export */ });\n\r\nfunction Scene(instance, start, onRender) {\r\n    this.instance = instance;\r\n    this.start = start;\r\n    this.onRender = onRender;\r\n\r\n    this.isServer = false;\r\n    this.initialized = false;\r\n}\r\n\r\nScene.prototype.setInstance = function(instance){\r\n    this.isServer = instance.isServer;\r\n    this.instance = instance;\r\n};\n\n//# sourceURL=webpack://whm/./src/control/scene.js?");

/***/ }),

/***/ "./src/control/script.js":
/*!*******************************!*\
  !*** ./src/control/script.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Script\": () => (/* binding */ Script)\n/* harmony export */ });\nfunction Script(){\r\n    this.id = 0;\r\n    this._initialized = false;\r\n    this.gameObject = null;\r\n\r\n    // Lifecycle methods\r\n    this.start = null;\r\n    this.fixedUpdate = null;\r\n    this.update = null;\r\n    this.onCollisionDetected = null;\r\n    this.onMouseMove = null;\r\n    this.onMouseDown = null;\r\n    this.onMouseUp = null;\r\n    this.onMouseScroll = null;\r\n    this.lateUpdate = null;\r\n    this.onDestroy = null;\r\n}\r\n\r\nScript.prototype.initialize = function() {\r\n    if(!this._initialized){\r\n        if(this.start){\r\n                this.start();\r\n        }\r\n        this._initialized = true;\r\n    }\r\n};\n\n//# sourceURL=webpack://whm/./src/control/script.js?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Util\": () => (/* reexport safe */ _util_util_js__WEBPACK_IMPORTED_MODULE_0__.Util),\n/* harmony export */   \"Point\": () => (/* reexport safe */ _physics_point_js__WEBPACK_IMPORTED_MODULE_1__.Point),\n/* harmony export */   \"Vector2\": () => (/* reexport safe */ _physics_vector_js__WEBPACK_IMPORTED_MODULE_2__.Vector2),\n/* harmony export */   \"ArcCollider\": () => (/* reexport safe */ _physics_collider_js__WEBPACK_IMPORTED_MODULE_3__.ArcCollider),\n/* harmony export */   \"BoxCollider\": () => (/* reexport safe */ _physics_collider_js__WEBPACK_IMPORTED_MODULE_3__.BoxCollider),\n/* harmony export */   \"CircleCollider\": () => (/* reexport safe */ _physics_collider_js__WEBPACK_IMPORTED_MODULE_3__.CircleCollider),\n/* harmony export */   \"CollisionUtil\": () => (/* reexport safe */ _physics_collider_js__WEBPACK_IMPORTED_MODULE_3__.CollisionUtil),\n/* harmony export */   \"PolygonCollider\": () => (/* reexport safe */ _physics_collider_js__WEBPACK_IMPORTED_MODULE_3__.PolygonCollider),\n/* harmony export */   \"CharacterController\": () => (/* reexport safe */ _input_charactercontroller_js__WEBPACK_IMPORTED_MODULE_4__.CharacterController),\n/* harmony export */   \"Input\": () => (/* reexport safe */ _input_input_js__WEBPACK_IMPORTED_MODULE_5__.Input),\n/* harmony export */   \"NetworkConnection\": () => (/* reexport safe */ _network_socket_js__WEBPACK_IMPORTED_MODULE_6__.NetworkConnection),\n/* harmony export */   \"ServerConnection\": () => (/* reexport safe */ _network_socket_js__WEBPACK_IMPORTED_MODULE_6__.ServerConnection),\n/* harmony export */   \"Camera\": () => (/* reexport safe */ _control_camera_js__WEBPACK_IMPORTED_MODULE_7__.Camera),\n/* harmony export */   \"GameObject\": () => (/* reexport safe */ _control_gameobject_js__WEBPACK_IMPORTED_MODULE_8__.GameObject),\n/* harmony export */   \"Scene\": () => (/* reexport safe */ _control_scene_js__WEBPACK_IMPORTED_MODULE_9__.Scene),\n/* harmony export */   \"Script\": () => (/* reexport safe */ _control_script_js__WEBPACK_IMPORTED_MODULE_10__.Script),\n/* harmony export */   \"PlayerPrefs\": () => (/* reexport safe */ _control_playerprefs_js__WEBPACK_IMPORTED_MODULE_12__.PlayerPrefs),\n/* harmony export */   \"Driver\": () => (/* reexport safe */ _control_driver_js__WEBPACK_IMPORTED_MODULE_13__.Driver),\n/* harmony export */   \"Instance\": () => (/* reexport safe */ _control_instance_js__WEBPACK_IMPORTED_MODULE_14__.Instance),\n/* harmony export */   \"Color\": () => (/* reexport safe */ _ux_color_js__WEBPACK_IMPORTED_MODULE_15__.Color),\n/* harmony export */   \"Frame\": () => (/* reexport safe */ _ux_frame_js__WEBPACK_IMPORTED_MODULE_16__.Frame),\n/* harmony export */   \"Sprite\": () => (/* reexport safe */ _ux_sprite_js__WEBPACK_IMPORTED_MODULE_17__.Sprite),\n/* harmony export */   \"Animator\": () => (/* reexport safe */ _ux_animator_js__WEBPACK_IMPORTED_MODULE_18__.Animator),\n/* harmony export */   \"Assets\": () => (/* reexport safe */ _ux_assets_js__WEBPACK_IMPORTED_MODULE_20__.Assets),\n/* harmony export */   \"Button\": () => (/* reexport safe */ _ux_widgets_js__WEBPACK_IMPORTED_MODULE_21__.Button),\n/* harmony export */   \"Label\": () => (/* reexport safe */ _ux_widgets_js__WEBPACK_IMPORTED_MODULE_21__.Label),\n/* harmony export */   \"Sound\": () => (/* reexport safe */ _ux_sound_js__WEBPACK_IMPORTED_MODULE_22__.Sound),\n/* harmony export */   \"SoundObject\": () => (/* reexport safe */ _ux_soundobject_js__WEBPACK_IMPORTED_MODULE_23__.SoundObject),\n/* harmony export */   \"Render\": () => (/* reexport safe */ _ux_render_js__WEBPACK_IMPORTED_MODULE_24__.Render),\n/* harmony export */   \"ArcRenderer\": () => (/* reexport safe */ _ux_renderer_js__WEBPACK_IMPORTED_MODULE_25__.ArcRenderer),\n/* harmony export */   \"BitmapTextRenderer\": () => (/* reexport safe */ _ux_renderer_js__WEBPACK_IMPORTED_MODULE_25__.BitmapTextRenderer),\n/* harmony export */   \"CircleRenderer\": () => (/* reexport safe */ _ux_renderer_js__WEBPACK_IMPORTED_MODULE_25__.CircleRenderer),\n/* harmony export */   \"ImageRenderer\": () => (/* reexport safe */ _ux_renderer_js__WEBPACK_IMPORTED_MODULE_25__.ImageRenderer),\n/* harmony export */   \"PolygonRenderer\": () => (/* reexport safe */ _ux_renderer_js__WEBPACK_IMPORTED_MODULE_25__.PolygonRenderer),\n/* harmony export */   \"RectangleRenderer\": () => (/* reexport safe */ _ux_renderer_js__WEBPACK_IMPORTED_MODULE_25__.RectangleRenderer),\n/* harmony export */   \"TextRenderer\": () => (/* reexport safe */ _ux_renderer_js__WEBPACK_IMPORTED_MODULE_25__.TextRenderer),\n/* harmony export */   \"Debug\": () => (/* reexport safe */ _meta_debug_js__WEBPACK_IMPORTED_MODULE_26__.Debug)\n/* harmony export */ });\n/* harmony import */ var _util_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util/util.js */ \"./src/util/util.js\");\n/* harmony import */ var _physics_point_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./physics/point.js */ \"./src/physics/point.js\");\n/* harmony import */ var _physics_vector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./physics/vector.js */ \"./src/physics/vector.js\");\n/* harmony import */ var _physics_collider_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./physics/collider.js */ \"./src/physics/collider.js\");\n/* harmony import */ var _input_charactercontroller_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./input/charactercontroller.js */ \"./src/input/charactercontroller.js\");\n/* harmony import */ var _input_input_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./input/input.js */ \"./src/input/input.js\");\n/* harmony import */ var _network_socket_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./network/socket.js */ \"./src/network/socket.js\");\n/* harmony import */ var _control_camera_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./control/camera.js */ \"./src/control/camera.js\");\n/* harmony import */ var _control_gameobject_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./control/gameobject.js */ \"./src/control/gameobject.js\");\n/* harmony import */ var _control_scene_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./control/scene.js */ \"./src/control/scene.js\");\n/* harmony import */ var _control_script_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./control/script.js */ \"./src/control/script.js\");\n/* harmony import */ var _control_playercontroller_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./control/playercontroller.js */ \"./src/control/playercontroller.js\");\n/* harmony import */ var _control_playerprefs_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./control/playerprefs.js */ \"./src/control/playerprefs.js\");\n/* harmony import */ var _control_driver_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./control/driver.js */ \"./src/control/driver.js\");\n/* harmony import */ var _control_instance_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./control/instance.js */ \"./src/control/instance.js\");\n/* harmony import */ var _ux_color_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ux/color.js */ \"./src/ux/color.js\");\n/* harmony import */ var _ux_frame_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ux/frame.js */ \"./src/ux/frame.js\");\n/* harmony import */ var _ux_sprite_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ux/sprite.js */ \"./src/ux/sprite.js\");\n/* harmony import */ var _ux_animator_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ux/animator.js */ \"./src/ux/animator.js\");\n/* harmony import */ var _ux_animation_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ux/animation.js */ \"./src/ux/animation.js\");\n/* harmony import */ var _ux_animation_js__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_ux_animation_js__WEBPACK_IMPORTED_MODULE_19__);\n/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};\n/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _ux_animation_js__WEBPACK_IMPORTED_MODULE_19__) if([\"default\",\"Util\",\"Point\",\"Vector2\",\"ArcCollider\",\"BoxCollider\",\"CircleCollider\",\"CollisionUtil\",\"PolygonCollider\",\"CharacterController\",\"Input\",\"NetworkConnection\",\"ServerConnection\",\"Camera\",\"GameObject\",\"Scene\",\"Script\",\"PlayerPrefs\",\"Driver\",\"Instance\",\"Color\",\"Frame\",\"Sprite\",\"Animator\"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _ux_animation_js__WEBPACK_IMPORTED_MODULE_19__[__WEBPACK_IMPORT_KEY__]\n/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);\n/* harmony import */ var _ux_assets_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./ux/assets.js */ \"./src/ux/assets.js\");\n/* harmony import */ var _ux_widgets_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ux/widgets.js */ \"./src/ux/widgets.js\");\n/* harmony import */ var _ux_sound_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ux/sound.js */ \"./src/ux/sound.js\");\n/* harmony import */ var _ux_soundobject_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./ux/soundobject.js */ \"./src/ux/soundobject.js\");\n/* harmony import */ var _ux_render_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ux/render.js */ \"./src/ux/render.js\");\n/* harmony import */ var _ux_renderer_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ux/renderer.js */ \"./src/ux/renderer.js\");\n/* harmony import */ var _meta_debug_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./meta/debug.js */ \"./src/meta/debug.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://whm/./src/index.js?");

/***/ }),

/***/ "./src/input/charactercontroller.js":
/*!******************************************!*\
  !*** ./src/input/charactercontroller.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CharacterController\": () => (/* binding */ CharacterController)\n/* harmony export */ });\n/* harmony import */ var _physics_vector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../physics/vector */ \"./src/physics/vector.js\");\n/* harmony import */ var _control_script__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../control/script */ \"./src/control/script.js\");\n\r\n\r\n\r\nfunction CharacterController(isPlayerControlled, speed) {\r\n    let script = new _control_script__WEBPACK_IMPORTED_MODULE_1__.Script();\r\n    script.update = function() {\r\n        this.gameObject.rigidbody.velocity.x = 0;\r\n        this.gameObject.rigidbody.velocity.y = 0;\r\n\r\n        var direction = new _physics_vector__WEBPACK_IMPORTED_MODULE_0__.Vector2();\r\n\r\n        let instance = this.gameObject.instance;\r\n        let input = instance.input;\r\n        let controller = this.gameObject.controller;\r\n\r\n        let isInputting = !instance.isServer &&\r\n            (input.isDown(\"W\") || input.isDown(\"A\") || input.isDown(\"S\") || input.isDown(\"D\"));\r\n        if(input && isPlayerControlled && isInputting){\r\n            direction.x = 0;\r\n            direction.y = 0;\r\n            if(input.isDown(\"W\")){\r\n                direction.y = -1;\r\n            }\r\n            if(input.isDown(\"A\")){\r\n                direction.x = -1;\r\n            }\r\n            if(input.isDown(\"S\")){\r\n                direction.y = 1;\r\n            }\r\n            if(input.isDown(\"D\")){\r\n                direction.x = 1;\r\n            }\r\n            if(controller){\r\n                controller.clearMoveTarget();\r\n            }\r\n        } else {\r\n            if(controller){\r\n                direction = controller.getTargetDirectionVector(this.gameObject.transform.position.x,\r\n                    this.gameObject.transform.position.y);\r\n            }\r\n        }\r\n\r\n        direction = direction.normalize();\r\n        this.gameObject.rigidbody.velocity.x = direction.x * speed;\r\n        this.gameObject.rigidbody.velocity.y = direction.y * speed;\r\n\r\n        // Don't overshoot target\r\n        if(controller && isInputting){\r\n            let target = controller.moveTarget;\r\n            if(target){\r\n                if(this.gameObject.transform.position.x < target.x && this.gameObject.transform.position.x +\r\n                    this.gameObject.rigidbody.velocity.x * instance.deltaTime > target.x\r\n                    || this.gameObject.transform.position.x > target.x && this.gameObject.transform.position.x +\r\n                    this.gameObject.rigidbody.velocity.x * instance.deltaTime < target.x){\r\n                        this.gameObject.rigidbody.velocity.x = (target.x - this.gameObject.transform.position.x) / instance.deltaTime;\r\n                }\r\n                if(this.gameObject.transform.position.y < target.y && this.gameObject.transform.position.y +\r\n                    this.gameObject.rigidbody.velocity.y * instance.deltaTime > target.y\r\n                    || this.gameObject.transform.position.y > target.y && this.gameObject.transform.position.y +\r\n                    this.gameObject.rigidbody.velocity.y * instance.deltaTime < target.y){\r\n                    this.gameObject.rigidbody.velocity.y = (target.y - this.gameObject.transform.position.y) / instance.deltaTime;\r\n                }\r\n            }\r\n\r\n            let nextX = this.gameObject.transform.position.x + this.gameObject.rigidbody.velocity.x * instance.deltaTime;\r\n            let nextY = this.gameObject.transform.position.y + this.gameObject.rigidbody.velocity.y * instance.deltaTime;\r\n            controller.setMoveTarget(nextX, nextY);\r\n        }\r\n    };\r\n    return script;\r\n}\n\n//# sourceURL=webpack://whm/./src/input/charactercontroller.js?");

/***/ }),

/***/ "./src/input/input.js":
/*!****************************!*\
  !*** ./src/input/input.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Input\": () => (/* binding */ Input)\n/* harmony export */ });\nfunction Input() {\r\n    this.keysDown = [];\r\n    this.keysUp = [];\r\n    this.instance = null;\r\n}\r\n\r\nInput.prototype.setInstance = function(instance){\r\n    this.instance = instance;\r\n};\r\nInput.prototype.onKeyDown = function(e){\r\n    var key = String.fromCharCode(e.keyCode);\r\n    if(this.keysDown.indexOf(key) < 0){\r\n        this.keysDown.push(key);\r\n    }\r\n};\r\nInput.prototype.onKeyUp = function(e){\r\n    var key = String.fromCharCode(e.keyCode);\r\n    let index = this.keysDown.indexOf(key);\r\n    if(index > -1) this.keysDown.splice(index, 1);\r\n    if (this.keysUp.indexOf(key) < 0) {\r\n        this.keysUp.push(key);\r\n    }\r\n};\r\nInput.prototype.mouseDown = function(e){\r\n    var local = this.instance.render._getRawCursorPosition(e);\r\n    var point = { x: local.x, y: local.y, button: e.which};\r\n    for(let i=0;i<this.instance._uiItems.length;i++){\r\n        let gameObj = this.instance._uiItems[i];\r\n        for(let j=0;j<gameObj.scripts.length;j++){\r\n            let script = gameObj.scripts[j];\r\n            if(script.onMouseDown\r\n                && point.x != null && point.y != null){\r\n                    let handled = script.onMouseDown(point);\r\n                    if(handled) return;\r\n                }\r\n        }\r\n    }\r\n    local = this.instance.render._getCursorPosition(e);\r\n    point = { x: local.x, y: local.y, button: e.which};\r\n    for(let i=0;i<this.instance._gameObjects.length;i++){\r\n        let gameObj = this.instance._gameObjects[i];\r\n        for(let j=0;j<gameObj.scripts.length;j++){\r\n            let script = gameObj.scripts[j];\r\n            if(script.onMouseDown\r\n                && point.x != null && point.y != null) script.onMouseDown(point);\r\n        }\r\n    }\r\n};\r\nInput.prototype.mouseUp = function(e){\r\n    e.preventDefault();\r\n    var local = this.instance.render._getRawCursorPosition(e);\r\n    var point = { x: local.x, y: local.y, button: e.which };\r\n    for(let i=0;i<this.instance._uiItems.length;i++){\r\n        let gameObj = this.instance._uiItems[i];\r\n        for(let j=0;j<gameObj.scripts.length;j++){\r\n            let script = gameObj.scripts[j];\r\n            if(script.onMouseUp\r\n                && point.x != null && point.y != null) {\r\n                    let handled = script.onMouseUp(point);\r\n                    if(handled) return;\r\n                }\r\n        }\r\n    }\r\n    local = this.instance.render._getCursorPosition(e);\r\n    point = { x: local.x, y: local.y, button: e.which};\r\n    for(let i=0;i<this.instance._gameObjects.length;i++){\r\n        let gameObj = this.instance._gameObjects[i];\r\n        for(let j=0;j<gameObj.scripts.length;j++){\r\n            let script = gameObj.scripts[j];\r\n            if(script.onMouseUp\r\n                && point.x != null && point.y != null) script.onMouseUp(point);\r\n        }\r\n    }\r\n};\r\nInput.prototype.mouseMove = function(e){\r\n    var local = this.instance.render._getRawCursorPosition(e);\r\n    if(local.x < 0 || local.y < 0) return;\r\n    var point = { x: local.x, y: local.y, button: e.which };\r\n    for(let i=0;i<this.instance._uiItems.length;i++){\r\n        let gameObj = this.instance._uiItems[i];\r\n        for(let j=0;j<gameObj.scripts.length;j++){\r\n            let script = gameObj.scripts[j];\r\n            if(script.onMouseMove\r\n                && point.x != null && point.y != null) script.onMouseMove(point);\r\n        }\r\n    }\r\n    local = this.instance.render._getCursorPosition(e);\r\n    point = { x: local.x, y: local.y, button: e.which};\r\n    for(let i=0;i<this.instance._gameObjects.length;i++){\r\n        let gameObj = this.instance._gameObjects[i];\r\n        for(let j=0;j<gameObj.scripts.length;j++){\r\n            let script = gameObj.scripts[j];\r\n            if(script.onMouseMove\r\n                && point.x != null && point.y != null) script.onMouseMove(point);\r\n        }\r\n    }\r\n};\r\nInput.prototype.scroll = function(delta){\r\n    for(let i=0;i<this.instance._gameObjects.length;i++){\r\n        let gameObj = this.instance._gameObjects[i];\r\n        for(let j=0;j<gameObj.scripts.length;j++){\r\n            let script = gameObj.scripts[j];\r\n            if(script.onMouseScroll) script.onMouseScroll(delta);\r\n        }\r\n    }\r\n};\r\nInput.prototype.isDown = function(name){\r\n    return this.keysDown.indexOf(name) >= 0;\r\n};\r\nInput.prototype.isUp = function(name){\r\n    return this.keysUp.indexOf(name) >= 0;\r\n};\r\nInput.prototype._clearUpKeys = function(){\r\n    this.keysUp = [];\r\n};\n\n//# sourceURL=webpack://whm/./src/input/input.js?");

/***/ }),

/***/ "./src/meta/debug.js":
/*!***************************!*\
  !*** ./src/meta/debug.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Debug\": () => (/* binding */ Debug)\n/* harmony export */ });\nvar Debug = {\r\n    isDebugBuild: false,\r\n    stopLogsInRelease: false,\r\n    log: function(message){\r\n        _log(message);\r\n    }\r\n};\r\n\r\nfunction _log(message){\r\n    if(Debug.isDebugBuild\r\n        || (!Debug.isDebugBuild && !Debug.stopLogsInRelease)) console.log(message);\r\n}\n\n//# sourceURL=webpack://whm/./src/meta/debug.js?");

/***/ }),

/***/ "./src/network/socket.js":
/*!*******************************!*\
  !*** ./src/network/socket.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"NetworkConnection\": () => (/* binding */ NetworkConnection),\n/* harmony export */   \"ServerConnection\": () => (/* binding */ ServerConnection)\n/* harmony export */ });\n\r\nfunction NetworkConnection(hostname, port){\r\n    this.instance = null;\r\n    this._socket = io.connect('http://' + hostname + \":\" + port);\r\n}\r\n\r\nNetworkConnection.prototype.setInstance = function(instance){\r\n    this.instance = instance;\r\n};\r\nNetworkConnection.prototype.sendMessage = function(tag, message){\r\n    this._socket.emit(tag, message);\r\n};\r\nNetworkConnection.prototype.addEventListener = function(tag, event){\r\n    this._socket.on(tag, event.bind(this.instance));\r\n};\r\nNetworkConnection.prototype.disconnect = function(){\r\n    this._socket.disconnect();\r\n};\r\n\r\nfunction ServerConnection(io){\r\n    this.io = io;\r\n    this.instance = null;\r\n}\r\n\r\nServerConnection.prototype.setInstance = function(instance){\r\n    this.instance = instance;\r\n};\r\nServerConnection.prototype.sendMessage = function(tag, message){\r\n    if(this.instance.isServer){\r\n        this.io.emit(tag, message);\r\n    }\r\n};\r\nServerConnection.prototype.addEventListener = function(tag, event){};\r\nServerConnection.prototype.setEventListeners = function(events){\r\n    this.io.sockets.on('connection', function(socket) {\r\n        events(socket);\r\n    });\r\n};\r\nServerConnection.prototype.disconnect = function(){};\n\n//# sourceURL=webpack://whm/./src/network/socket.js?");

/***/ }),

/***/ "./src/physics/collider.js":
/*!*********************************!*\
  !*** ./src/physics/collider.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BoxCollider\": () => (/* binding */ BoxCollider),\n/* harmony export */   \"CircleCollider\": () => (/* binding */ CircleCollider),\n/* harmony export */   \"ArcCollider\": () => (/* binding */ ArcCollider),\n/* harmony export */   \"PolygonCollider\": () => (/* binding */ PolygonCollider),\n/* harmony export */   \"CollisionUtil\": () => (/* binding */ CollisionUtil)\n/* harmony export */ });\n/* harmony import */ var _vector_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vector.js */ \"./src/physics/vector.js\");\n/* harmony import */ var _point_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./point.js */ \"./src/physics/point.js\");\n/* harmony import */ var _util_util_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../util/util.js */ \"./src/util/util.js\");\n\r\n\r\n\r\n\r\n\r\nfunction BoxCollider(offsetx, offsety, w, h, solid){\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        offsetx: offsetx,\r\n        offsety: offsety,\r\n        width: w,\r\n        height: h,\r\n        solid: solid,\r\n        gameObject: null,\r\n        type: \"b\",\r\n        getWidth() {\r\n            return this.w;\r\n        },\r\n        getHeight() {\r\n            return this.h;\r\n        }\r\n    };\r\n}\r\n\r\nfunction CircleCollider(offsetx, offsety, r, solid){\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        offsetx: offsetx,\r\n        offsety: offsety,\r\n        r: r,\r\n        solid: solid,\r\n        gameObject: null,\r\n        type: \"c\",\r\n        getWidth() {\r\n            return this.r * 2;\r\n        },\r\n        getHeight() {\r\n            return this.r * 2;\r\n        }\r\n    };\r\n}\r\n\r\nfunction ArcCollider(offsetx, offsety, r, radianStart, radianEnd, solid){\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        offsetx: offsetx,\r\n        offsety: offsety,\r\n        r: r,\r\n        radianStart: radianStart,\r\n        radianEnd: (radianEnd > radianStart) ? radianEnd : radianEnd + Math.PI*2,\r\n        solid: solid,\r\n        gameObject: null,\r\n        type: \"a\",\r\n        getWidth() {\r\n            return this.r * 2;\r\n        },\r\n        getHeight() {\r\n            return this.r * 2;\r\n        }\r\n    };\r\n}\r\n\r\nfunction PolygonCollider(offsetx, offsety, solid, points){\r\n    var p = (points) ? points : [];\r\n    return {\r\n        x: 0,\r\n        y: 0,\r\n        points: p,\r\n        offsetx: offsetx,\r\n        offsety: offsety,\r\n        solid: solid,\r\n        gameObject: null,\r\n        type: \"p\",\r\n        getWidth() {\r\n            return 0;\r\n        },\r\n        getHeight() {\r\n            return 0;\r\n        },\r\n        addPoint(point){\r\n            this.points.push(point);\r\n        }\r\n    };\r\n}\r\n\r\nvar CollisionUtil = {\r\n    resolveCircleCircleCollision: function(collider1, collider2, timeDilation){\r\n        var gameObj = collider1.gameObject;\r\n        var otherObj = collider2.gameObject;\r\n        var radius = collider1.r;\r\n        var otherRadius = collider2.r;\r\n        if(gameObj.stationary) {\r\n            gameObj = collider2.gameObject;\r\n            otherObj = collider1.gameObject;\r\n            otherRadius = collider1.r;\r\n            radius = collider2.r;\r\n        }\r\n    \r\n        let vx = gameObj.transform.position.x - otherObj.transform.position.x;\r\n        let vy = gameObj.transform.position.y - otherObj.transform.position.y;\r\n        let mag = Math.sqrt(vx*vx + vy*vy);\r\n        let collision = new _vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector2(otherObj.transform.position.x + vx / mag * otherRadius,\r\n            otherObj.y + vy / mag * otherRadius);\r\n    \r\n        let px = gameObj.transform.position.x + gameObj.rigidbody.velocity.x * timeDilation;\r\n        let py = gameObj.transform.position.y + gameObj.rigidbody.velocity.y * timeDilation;\r\n        console.log(\"px: \" + px);\r\n        if(Math.abs(px - collision.x) < radius) {\r\n            let distance =  Math.abs(collision.x - gameObj.transform.position.x) - radius;\r\n            console.log(gameObj.transform.position.x + \" \" + distance);\r\n            gameObj.rigidbody.velocity.x = distance / timeDilation;\r\n        }\r\n    \r\n        if(Math.abs(py - collision.y) < radius) {\r\n            let distance =  Math.abs(collision.y - gameObj.y) - radius;\r\n            gameObj.rigidbody.velocity.y = distance / timeDilation;\r\n        }\r\n    \r\n        return collision;\r\n    }, \r\n    polygonPointCollision: function(polyx, polyy, points, px, py) {\r\n        var collision = false;\r\n    \r\n        var next = 0;\r\n        for (var current = 0; current < points.length; current++){\r\n            next = current + 1;\r\n            if(next == points.length) next = 0;\r\n    \r\n            let vc = points[current];\r\n            let vn = points[next];\r\n    \r\n            let vcx = polyx + vc.x;\r\n            let vcy = polyy + vc.y;\r\n            let vnx = polyx + vn.x;\r\n            let vny = polyy + vn.y;\r\n    \r\n            if (((vcy > py && vny < py) || (vcy < py && vny > py)) &&\r\n             (px < (vnx-vcx)*(py-vcy) / (vny-vcy)+vcx)) {\r\n                collision = !collision;\r\n            }\r\n        }\r\n        return collision;\r\n    },\r\n    pointCircleCollision: function(px, py, cx, cy, r){\r\n        let distX = px - cx;\r\n        let distY = py - cy;\r\n        let distance = Math.sqrt( (distX*distX) + (distY*distY) );\r\n    \r\n        if (distance <= r) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    linePointCollision: function(x1, y1, x2, y2, px, py){\r\n        let d1 = _util_util_js__WEBPACK_IMPORTED_MODULE_2__.Util.distance(px,py, x1,y1);\r\n        let d2 = _util_util_js__WEBPACK_IMPORTED_MODULE_2__.Util.distance(px,py, x2,y2);\r\n    \r\n        let lineLen = _util_util_js__WEBPACK_IMPORTED_MODULE_2__.Util.distance(x1,y1, x2,y2);\r\n        let buffer = 0.1;\r\n    \r\n        if (d1+d2 >= lineLen-buffer && d1+d2 <= lineLen+buffer) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    lineCircleCollision: function(x1, y1, x2, y2, cx, cy, r){\r\n        let inside1 = pointCircleCollision(x1, y1, cx, cy, r);\r\n        let inside2 = pointCircleCollision(x2, y2, cx, cy, r);\r\n        if(inside1 || inside2) return true;\r\n    \r\n        var distx = x1 - x2;\r\n        var disty = y1 - y2;\r\n        let len = Math.sqrt( (distx*distx) + (disty * disty));\r\n    \r\n        let dot = ( ((cx-x1)*(x2-x1)) + ((cy-y1)*(y2-y1)) ) / Math.pow(len,2);\r\n    \r\n        let closestX = x1 + (dot * (x2-x1));\r\n        let closestY = y1 + (dot * (y2-y1));\r\n    \r\n        let onSegment = linePointCollision(x1,y1,x2,y2, closestX,closestY);\r\n        if (!onSegment) return false;\r\n    \r\n        distX = closestX - cx;\r\n        distY = closestY - cy;\r\n        let distance = Math.sqrt( (distX*distX) + (distY*distY) );\r\n    \r\n        if (distance <= r) {\r\n            return true;\r\n        }\r\n        return false;\r\n    },\r\n    isPolygonCircleCollision: function(c1, c2, timeDilation){\r\n        let points = c1.points;\r\n        let px = c1.x + c1.gameObject.rigidbody.velocity.x * timeDilation;\r\n        let py = c1.y + c1.gameObject.rigidbody.velocity.y * timeDilation;\r\n        let cx = c2.x + c2.gameObject.rigidbody.velocity.x * timeDilation;\r\n        let cy = c2.y + c2.gameObject.rigidbody.velocity.y * timeDilation;\r\n        let cr = c2.r;\r\n    \r\n        var next = 0;\r\n        for(var current = 0; current<points.length; current++){\r\n            next = current+1;\r\n            if(next == points.length) next = 0;\r\n    \r\n            let vc = points[current];\r\n            let vn = points[next];\r\n    \r\n            let vcx = px + vc.x;\r\n            let vcy = py + vc.y;\r\n            let vnx = px + vn.x;\r\n            let vny = py + vn.y;\r\n    \r\n            let collision = lineCircleCollision(vcx, vcy, vnx, vny, cx, cy, cr);\r\n            if(collision) return true;\r\n    \r\n            let centerInside = polygonPointCollision(px, py, points, cx, cy);\r\n            if(centerInside) return true;\r\n        }\r\n        return false;\r\n    },\r\n    pointOnCircleFromAngle: function(cx, cy, cr, angle){\r\n        return new _point_js__WEBPACK_IMPORTED_MODULE_1__.Point(cx + cr * Math.sin(angle), cy + cr * Math.cos(angle));\r\n    },\r\n    isArcCircleCollision: function(c1, c2, timeDilation){\r\n        let c1x = c1.x + c1.gameObject.rigidbody.velocity.x * timeDilation;\r\n        let c1y = c1.y + c1.gameObject.rigidbody.velocity.y * timeDilation;\r\n        let c2x = c2.x + c2.gameObject.rigidbody.velocity.x * timeDilation;\r\n        let c2y = c2.y + c2.gameObject.rigidbody.velocity.y * timeDilation;\r\n        let radianStart = c1.radianStart;\r\n        let radianEnd = c1.radianEnd;\r\n        let distance = (c2x-c1x)*(c2x-c1x) + (c2y-c1y)*(c2y-c1y);\r\n        if (distance <= (c1.r+c2.r)*(c1.r+c2.r)){\r\n            // Circles have collided, check arc values\r\n            // Short circuit if arc origin inside other circle\r\n            if(distance <= c2.r*c2.r){\r\n                return true;\r\n            }\r\n    \r\n            // Check line intersections\r\n            let p1 = pointOnCircleFromAngle(c1x, c1y, c1.r, radianStart);\r\n            let p2 = pointOnCircleFromAngle(c1x, c1y, c1.r, radianEnd);\r\n            let lineCollision1 = lineCircleCollision(c1x, c1y, p1.x, p1.y, c2x, c2y, c2.r);\r\n            let lineCollision2 = lineCircleCollision(c1x, c1y, p2.x, p2.y, c2x, c2y, c2.r);\r\n            if(lineCollision1 || lineCollision2) return true;\r\n    \r\n            // Check arc angle range\r\n            var angle = Math.atan2(c1y - c2y, c1x - c2x);\r\n            if(angle < 0) angle += Math.PI * 2;\r\n            angle = (angle + Math.PI) % (Math.PI * 2);\r\n            return (angle >= radianStart && angle <= radianEnd);\r\n        }else return false;\r\n    },\r\n    isCircleCircleCollision: function(c1, c2, timeDilation){\r\n        let c1x = c1.x + c1.gameObject.rigidbody.velocity.x * timeDilation;\r\n        let c1y = c1.y + c1.gameObject.rigidbody.velocity.y * timeDilation;\r\n        let c2x = c2.x + c2.gameObject.rigidbody.velocity.x * timeDilation;\r\n        let c2y = c2.y + c2.gameObject.rigidbody.velocity.y * timeDilation;\r\n        return (c2x-c1x)*(c2x-c1x) + (c2y-c1y)*(c2y-c1y) <= (c1.r+c2.r)*(c1.r+c2.r);\r\n    },\r\n    // TODO Change to WILL collide, or do this somewhere else\r\n    isCircleBoxCollision: function(circle,rect,timeDilation){\r\n        let cx = circle.x + circle.gameObject.rigidbody.velocity.x * timeDilation;\r\n        let cy = circle.y + circle.gameObject.rigidbody.velocity.y * timeDilation;\r\n        let rx = rect.x + rect.gameObject.rigidbody.velocity.x * timeDilation;\r\n        let ry = rect.y + rect.gameObject.rigidbody.velocity.y * timeDilation;\r\n        var distX = Math.abs(cx - rx-rect.w/2);\r\n        var distY = Math.abs(cy - ry-rect.h/2);\r\n\r\n        if (distX > (rect.w/2 + circle.r)) { return false; }\r\n        if (distY > (rect.h/2 + circle.r)) { return false; }\r\n\r\n        if (distX <= (rect.w/2)) { return true; } \r\n        if (distY <= (rect.h/2)) { return true; }\r\n\r\n        var dx=distX-rect.w/2;\r\n        var dy=distY-rect.h/2;\r\n        return (dx*dx+dy*dy<=(circle.r*circle.r));\r\n    },\r\n    resolveBoxCircleCollision: function(rectCollider, circleCollider, timeDilation){\r\n        var gameObj = rectCollider.gameObject;\r\n        if(gameObj.stationary) gameObj = circleCollider.gameObject;\r\n\r\n        var NearestX = Math.max(rectCollider.x, Math.min(circleCollider.x, rectCollider.x + rectCollider.w));\r\n        var NearestY = Math.max(rectCollider.y, Math.min(circleCollider.y, rectCollider.y + rectCollider.h));\r\n\r\n        var dist = new _vector_js__WEBPACK_IMPORTED_MODULE_0__.Vector2(circleCollider.x - NearestX, circleCollider.y - NearestY);\r\n        var penetrationDepth = circleCollider.r - dist.length();\r\n        var penetrationVector = dist.normalize().multiply(penetrationDepth);\r\n\r\n        if(Math.abs(penetrationVector.x) > 0){\r\n            gameObj.rigidbody.velocity.x = (penetrationVector.x + \r\n                (penetrationVector.x < 0) ? 0.00001 : -0.00001) / timeDilation;\r\n        }\r\n        if(Math.abs(penetrationVector.y) > 0){\r\n            gameObj.rigidbody.rigidbody.velocity.y = (penetrationVector.y +\r\n                (penetrationVector.y < 0) ? 0.00001 : -0.00001) / timeDilation;\r\n        }\r\n    },\r\n    resolveBoxBoxCollision: function(gameObj, b, otherObj, c, timeDilation){\r\n        let distances = boxCollisionDistances(gameObj.colliders[b], otherObj.colliders[c]);\r\n    \r\n        let xvel = gameObj.rigidbody.rigidbody.velocity.x;\r\n        let yvel = gameObj.rigidbody.velocity.y;\r\n        // TODO test this with the == 0 changes\r\n        let xsign = xvel==0?0:xvel<0?-1:1;\r\n        let ysign = yvel==0?0:yvel<0?-1:1;\r\n        let xtimecollide = xvel != 0 ? Math.abs(distances.x / xvel) : 0;\r\n        let ytimecollide = yvel != 0 ? Math.abs(distances.y / yvel) : 0;\r\n    \r\n        var shortesttime = 0;\r\n        if(xvel != 0 && yvel == 0){\r\n            gameObj.rigidbody.rigidbody.velocity.x = Math.abs(distances.x / timeDilation) * xsign;\r\n        } else if (xvel == 0 && yvel != 0){\r\n            gameObj.rigidbody.rigidbody.velocity.y = Math.abs(distances.y / timeDilation) * ysign;\r\n        } else if(xtimecollide == 0){\r\n            gameObj.rigidbody.rigidbody.velocity.x = Math.abs(distances.x / timeDilation) * xsign;\r\n        } else if(ytimecollide == 0){\r\n            gameObj.rigidbody.rigidbody.velocity.y = Math.abs(distances.y / timeDilation) * ysign;\r\n        }else {\r\n            shortesttime = Math.min(xtimecollide, ytimecollide);\r\n    \r\n            if(xtimecollide < ytimecollide){\r\n                gameObj.rigidbody.rigidbody.velocity.x = Math.abs(distances.x / timeDilation) * xsign;\r\n                gameObj.rigidbody.rigidbody.velocity.y = 0;\r\n            }else {\r\n                gameObj.rigidbody.rigidbody.velocity.x = 0;\r\n                gameObj.rigidbody.rigidbody.velocity.y = Math.abs(distances.y / timeDilation) * ysign;\r\n            }\r\n        }\r\n    },\r\n    boxCollisionDistances: function(c1, c2)\r\n    {\r\n        var dx = 0;\r\n        var dy = 0;\r\n\r\n        if (c1.x < c2.x)\r\n        {\r\n            dx = c2.x - (c1.x + c1.w);\r\n        }\r\n        else if (c1.x > c2.x)\r\n        {\r\n            dx = c1.x - (c2.x + c2.w);\r\n        }\r\n\r\n        if (c1.y < c2.y)\r\n        {\r\n            dy = c2.y - (c1.y + c1.h);\r\n        }\r\n        else if (c1.y > c2.y)\r\n        {\r\n            dy = c1.y - (c2.y + c2.h);\r\n        }\r\n\r\n        return {x: dx, y: dy};\r\n    },\r\n    isBoxCollision: function(c1, c2, timeDilation)\r\n    {\r\n        let x1 = c1.x + c1.gameObject.rigidbody.rigidbody.velocity.x * timeDilation;\r\n        let x2 = c2.x + c2.gameObject.rigidbody.rigidbody.velocity.x * timeDilation;\r\n        let y1 = c1.y + c1.gameObject.rigidbody.rigidbody.velocity.y * timeDilation;\r\n        let y2 = c2.y + c2.gameObject.rigidbody.rigidbody.velocity.y * timeDilation;\r\n        return x1 < x2 + c2.w &&\r\n            x1 + c1.w > x2 &&\r\n            y1 < y2 + c2.h &&\r\n            y1 + c1.h > y2;\r\n    },\r\n    isCollision: function(c1, c2, timeDilation){\r\n        if(c1.type == \"b\" && c2.type == \"b\") {\r\n            return isBoxCollision(c1, c2, timeDilation);\r\n        }else if(c1.type == \"c\" && c2.type == \"b\"){\r\n            return isCircleBoxCollision(c1, c2, timeDilation);\r\n        }else if(c2.type == \"c\" && c1.type == \"b\"){\r\n            return isCircleBoxCollision(c2, c1, timeDilation);\r\n        }else if(c1.type == \"c\" && c2.type == \"c\"){\r\n            return isCircleCircleCollision(c1, c2, timeDilation);\r\n        } else if(c1.type == \"a\" && c2.type == \"c\"){\r\n            return isArcCircleCollision(c1, c2, timeDilation);\r\n        } else if(c1.type == \"c\" && c2.type == \"a\"){\r\n            return isArcCircleCollision(c2, c1, timeDilation);\r\n        } else if(c1.type == \"p\" && c2.type == \"c\"){\r\n            return isPolygonCircleCollision(c1, c2, timeDilation);\r\n        } else if(c1.type == \"c\" && c2.type == \"p\"){\r\n            return isPolygonCircleCollision(c2, c1, timeDilation);\r\n        } \r\n        else return false;\r\n    },\r\n    boxColliderPointCollision: function(x, y, boxCollider){\r\n        return x >= boxCollider.x\r\n        && y >= boxCollider.y\r\n        && x <= boxCollider.x + boxCollider.w\r\n        && y <= boxCollider.y + boxCollider.h;\r\n    }\r\n};\n\n//# sourceURL=webpack://whm/./src/physics/collider.js?");

/***/ }),

/***/ "./src/physics/point.js":
/*!******************************!*\
  !*** ./src/physics/point.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Point\": () => (/* binding */ Point)\n/* harmony export */ });\nfunction Point(x, y){\r\n    this.x = x;\r\n    this.y = y;\r\n}\n\n//# sourceURL=webpack://whm/./src/physics/point.js?");

/***/ }),

/***/ "./src/physics/vector.js":
/*!*******************************!*\
  !*** ./src/physics/vector.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Vector2\": () => (/* binding */ Vector2)\n/* harmony export */ });\nfunction Vector2(x, y) {\r\n\tthis.x = x || 0;\r\n\tthis.y = y || 0;\r\n}\r\n\r\nVector2.prototype.negative = function() {\r\n\tthis.x = -this.x;\r\n\tthis.y = -this.y;\r\n\treturn this;\r\n};\r\nVector2.prototype.add = function(v) {\r\n\tif (v instanceof Vector2) {\r\n\t\tthis.x += v.x;\r\n\t\tthis.y += v.y;\r\n\t} else {\r\n\t\tthis.x += v;\r\n\t\tthis.y += v;\r\n\t}\r\n\treturn this;\r\n};\r\nVector2.prototype.subtract = function(v) {\r\n\tif (v instanceof Vector2) {\r\n\t\tthis.x -= v.x;\r\n\t\tthis.y -= v.y;\r\n\t} else {\r\n\t\tthis.x -= v;\r\n\t\tthis.y -= v;\r\n\t}\r\n\treturn this;\r\n};\r\nVector2.prototype.multiply = function(v) {\r\n\tif (v instanceof Vector2) {\r\n\t\tthis.x *= v.x;\r\n\t\tthis.y *= v.y;\r\n\t} else {\r\n\t\tthis.x *= v;\r\n\t\tthis.y *= v;\r\n\t}\r\n\treturn this;\r\n};\r\nVector2.prototype.divide = function(v) {\r\n\tif (v instanceof Vector2) {\r\n\t\tif(v.x != 0) this.x /= v.x;\r\n\t\tif(v.y != 0) this.y /= v.y;\r\n\t} else {\r\n\t\tif(v != 0) {\r\n\t\t\tthis.x /= v;\r\n\t\t\tthis.y /= v;\r\n\t\t}\r\n\t}\r\n\treturn this;\r\n};\r\nVector2.prototype.equals = function(v) {\r\n\treturn this.x == v.x && this.y == v.y;\r\n};\r\nVector2.prototype.dot = function(v) {\r\n\treturn this.x * v.x + this.y * v.y;\r\n};\r\nVector2.prototype.cross = function(v) {\r\n\treturn this.x * v.y - this.y * v.x;\r\n};\r\nVector2.prototype.length = function() {\r\n\treturn Math.sqrt(this.dot(this));\r\n};\r\nVector2.prototype.normalize = function() {\r\n\treturn this.divide(this.length());\r\n};\r\nVector2.prototype.min = function() {\r\n\treturn Math.min(this.x, this.y);\r\n};\r\nVector2.prototype.max = function() {\r\n\treturn Math.max(this.x, this.y);\r\n};\r\nVector2.prototype.toAngles = function() {\r\n\treturn -Math.atan2(-this.y, this.x);\r\n};\r\nVector2.prototype.angleTo = function(a) {\r\n\treturn Math.acos(this.dot(a) / (this.length() * a.length()));\r\n};\r\nVector2.prototype.toArray = function(n) {\r\n\treturn [this.x, this.y].slice(0, n || 2);\r\n};\r\nVector2.prototype.clone = function() {\r\n\treturn new Vector2(this.x, this.y);\r\n};\r\nVector2.prototype.set = function(x, y) {\r\n\tthis.x = x; this.y = y;\r\n\treturn this;\r\n};\r\n\r\nVector2.negative = function(v) {\r\n\treturn new Vector2(-v.x, -v.y);\r\n};\r\nVector2.add = function(a, b) {\r\n\tif (b instanceof Vector2) return new Vector2(a.x + b.x, a.y + b.y);\r\n\telse return new Vector2(a.x + b, a.y + b);\r\n};\r\nVector2.subtract = function(a, b) {\r\n\tif (b instanceof Vector2) return new Vector2(a.x - b.x, a.y - b.y);\r\n\telse return new Vector2(a.x - b, a.y - b);\r\n};\r\nVector2.multiply = function(a, b) {\r\n\tif (b instanceof Vector2) return new Vector2(a.x * b.x, a.y * b.y);\r\n\telse return new Vector2(a.x * b, a.y * b);\r\n};\r\nVector2.divide = function(a, b) {\r\n\tif (b instanceof Vector2) return new Vector2(a.x / b.x, a.y / b.y);\r\n\telse return new Vector2(a.x / b, a.y / b);\r\n};\r\nVector2.equals = function(a, b) {\r\n\treturn a.x == b.x && a.y == b.y;\r\n};\r\nVector2.dot = function(a, b) {\r\n\treturn a.x * b.x + a.y * b.y;\r\n};\r\nVector2.cross = function(a, b) {\r\n\treturn a.x * b.y - a.y * b.x;\r\n};\n\n//# sourceURL=webpack://whm/./src/physics/vector.js?");

/***/ }),

/***/ "./src/util/util.js":
/*!**************************!*\
  !*** ./src/util/util.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Util\": () => (/* binding */ Util)\n/* harmony export */ });\n\r\nvar Util = {\r\n    httpGet: function (url, callback) {\r\n        var xmlhttp = new XMLHttpRequest();\r\n        xmlhttp.onreadystatechange = function () {\r\n            if (xmlhttp.readyState == 4 && xmlhttp.status == 200) {\r\n                callback(xmlhttp.responseText);\r\n            }\r\n        };\r\n        xmlhttp.open(\"GET\", url, true);\r\n        xmlhttp.send();\r\n    },    \r\n    clamp: function (value, min, max) {\r\n        return Math.min(Math.max(value, min), max);\r\n    },\r\n    indexOf: function (value, array){\r\n        for (var i = 0; i < array.length; i++) {\r\n            if (array[i] == value) return i;\r\n        }\r\n        return -1;\r\n    },\r\n    removeFromArray: function (value, array){\r\n        let index = array.indexOf(value);\r\n        while (index !== -1) {\r\n            array.splice(index, 1);\r\n            index = array.indexOf(value);\r\n        }\r\n    },\r\n    distance: function(x1, y1, x2, y2){\r\n        return Math.sqrt((x1-x2)*(x1-x2) + (y1-y2)*(y1-y2));\r\n    }\r\n};\n\n//# sourceURL=webpack://whm/./src/util/util.js?");

/***/ }),

/***/ "./src/ux/animation.js":
/*!*****************************!*\
  !*** ./src/ux/animation.js ***!
  \*****************************/
/***/ (() => {

eval("function Animation(frames, loop) {\r\n    this.timer = 0;\r\n    this.frames = frames;\r\n    this.currentFrame = 0;\r\n    this.loop = (loop !== undefined) ? loop : true;\r\n}\r\n\r\nAnimation.prototype.advance = function(time){\r\n    if(this.frames.length <= 1) return;\r\n    \r\n    this.timer += time;\r\n    while(this.timer >= this.frames[this.currentFrame].duration){\r\n        this.timer -= this.frames[this.currentFrame].duration;\r\n        this.currentFrame += 1;\r\n        if(this.currentFrame >= this.frames.length){\r\n            if(this.loop){\r\n                this.currentFrame = 0;\r\n            }else {\r\n                this.currentFrame = this.frames.length - 1;\r\n            }\r\n        }\r\n    }\r\n};\r\nAnimation.prototype.getImageName = function(){\r\n    return this.frames[this.currentFrame].sprite.imageName;\r\n};\r\nAnimation.prototype.getSpriteName = function(){\r\n    return this.frames[this.currentFrame].sprite.spriteName;\r\n};\r\nAnimation.prototype.getIsFlippedX = function(){\r\n    return this.frames[this.currentFrame].sprite.isFlippedX;\r\n};\r\nAnimation.prototype.getIsFlippedY = function(){\r\n    return this.frames[this.currentFrame].sprite.isFlippedY;\r\n};\r\nAnimation.prototype.reset = function(){\r\n    this.timer = 0;\r\n    this.currentFrame = 0;\r\n};\n\n//# sourceURL=webpack://whm/./src/ux/animation.js?");

/***/ }),

/***/ "./src/ux/animator.js":
/*!****************************!*\
  !*** ./src/ux/animator.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Animator\": () => (/* binding */ Animator)\n/* harmony export */ });\n/* harmony import */ var _renderer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer */ \"./src/ux/renderer.js\");\n\r\n\r\n\r\nfunction Animator(onCalculateAnimation) {\r\n    this.gameObject = null;\r\n    this.onCalculateAnimation = onCalculateAnimation;\r\n    this.currentAnimation = null;\r\n    this.animations = {};\r\n}\r\n\r\nAnimator.prototype.addAnimation = function(name, animation){\r\n    this.animations[name] = animation;\r\n    this.calculateNewAnimation();\r\n};\r\nAnimator.prototype.advance = function(time){\r\n    if(this.currentAnimation) this.animations[this.currentAnimation].advance(time);\r\n    this.calculateNewAnimation();\r\n};\r\nAnimator.prototype.calculateNewAnimation = function(){\r\n    if(this.onCalculateAnimation){\r\n        let newAnimation = this.onCalculateAnimation(this.currentAnimation);\r\n        if(this.currentAnimation != newAnimation){\r\n            if(this.currentAnimation){\r\n                this.animations[this.currentAnimation].reset();\r\n            }\r\n            this.currentAnimation = newAnimation;\r\n        }\r\n    }\r\n    let renderer = this.gameObject.renderer;\r\n    if(renderer instanceof _renderer__WEBPACK_IMPORTED_MODULE_0__.ImageRenderer){\r\n        if(this.animations[this.currentAnimation]){\r\n            renderer.imageName = this.animations[this.currentAnimation].getImageName();\r\n            renderer.spriteName = this.animations[this.currentAnimation].getSpriteName();\r\n            renderer.flipX = this.animations[this.currentAnimation].getIsFlippedX();\r\n        }\r\n    }\r\n};\n\n//# sourceURL=webpack://whm/./src/ux/animator.js?");

/***/ }),

/***/ "./src/ux/assets.js":
/*!**************************!*\
  !*** ./src/ux/assets.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Assets\": () => (/* binding */ Assets)\n/* harmony export */ });\n/* harmony import */ var _util_util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../util/util.js */ \"./src/util/util.js\");\n\r\n\r\nfunction Assets() {\r\n    this.sounds = {};\r\n    this.images = {};\r\n    this.fontData = {};\r\n    this.mappingData = {};\r\n    this._stillLoading = 0;\r\n    this._sils = {};\r\n}\r\n\r\nAssets.prototype.loadAudio = function(name, url) {\r\n    this._stillLoading += 1;\r\n    var audio = new Audio(url);\r\n    audio.addEventListener(\"canplaythrough\", function() {\r\n        this._stillLoading -= 1;\r\n        this.sounds[name] = audio;\r\n    }.bind(this));\r\n};\r\nAssets.prototype.loadImage = function(name, url) {\r\n    this._stillLoading += 1;\r\n    return new Promise(r => {\r\n        let i = new Image(); i.onload = (() => {\r\n            this.images[name] = { source: i, width: i.width, height: i.height };\r\n            this._stillLoading -= 1;\r\n            r(i);\r\n        }); i.src = url;\r\n    });\r\n};\r\nAssets.prototype._createSil = function(name, color){\r\n    var sourceImg = this.getImage(name).source;\r\n    var canvas = document.createElement(\"canvas\");\r\n    var ctx = canvas.getContext('2d');\r\n    canvas.width = sourceImg.width;\r\n    canvas.height = sourceImg.height;\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    ctx.drawImage(sourceImg, 0, 0);\r\n    ctx.globalCompositeOperation = \"source-in\";\r\n    ctx.fillStyle = color.hexString;\r\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n    this.images[name + SilSuffix] = { source: canvas, width: canvas.width,\r\n            height: canvas.height };\r\n};\r\nAssets.prototype.loadFont = function(name, url, mappingUrl) {\r\n    this._stillLoading += 1;\r\n    this.loadImage(name, url);\r\n    _util_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.httpGet(mappingUrl, function (s) {\r\n        var lines = s.split(\"\\n\");\r\n        for (var i = 0; i < lines.length; i++) {\r\n            if (lines[i].startsWith(\"common \")) {\r\n                var chunks = lines[i].split(\" \");\r\n                let lineHeight = parseInt(chunks[1].substring(chunks[1].indexOf(\"=\") + 1));\r\n                this.fontData[name + \"_LH\"] = lineHeight;\r\n            } else if (lines[i].startsWith(\"char \")) {\r\n                var chunks = lines[i].split(\" \");\r\n                let ascii = chunks[1].substring(chunks[1].indexOf(\"=\") + 1);\r\n                var data = {\r\n                    ascii: parseInt(ascii),\r\n                    x: parseInt(chunks[2].substring(chunks[2].indexOf(\"=\") + 1)),\r\n                    y: parseInt(chunks[3].substring(chunks[3].indexOf(\"=\") + 1)),\r\n                    width: parseInt(chunks[4].substring(chunks[4].indexOf(\"=\") + 1)),\r\n                    height: parseInt(chunks[5].substring(chunks[5].indexOf(\"=\") + 1)),\r\n                    xOffset: parseInt(chunks[6].substring(chunks[6].indexOf(\"=\") + 1)),\r\n                    yOffset: parseInt(chunks[7].substring(chunks[7].indexOf(\"=\") + 1))\r\n                };\r\n                this.fontData[name + \"_\" + ascii] = data;\r\n            }\r\n        }\r\n        this._stillLoading -= 1;\r\n    }.bind(this));\r\n};\r\nAssets.prototype.loadSpriteSheet = function(name, url, mappingUrl){\r\n    this.loadImage(name, url);\r\n    this.loadMapping(name, mappingUrl);\r\n};\r\nAssets.prototype.loadMapping = function(name, mappingUrl){\r\n    this._stillLoading += 1;\r\n    _util_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.httpGet(mappingUrl, function (s) {\r\n        var lines = s.split(\"\\n\");\r\n        var returnObject = {};\r\n        for (var i = 0; i < lines.length; i++) {\r\n            var data = [];\r\n            var chunks = lines[i].split(\" \");\r\n            for(var a = 0; a < chunks.length; a++){\r\n                let line = chunks[a];\r\n                let equalIndex = line.indexOf(\"=\");\r\n                if(equalIndex >= 0){\r\n                    let key = line.substring(0, equalIndex);\r\n                    let value = line.substring(equalIndex+1);\r\n                    data[key] = value;\r\n                }else if(a == 0){\r\n                    data[\"tag\"] = line;\r\n                }\r\n            }\r\n            if(\"id\" in data){\r\n                returnObject[data[\"id\"]] = data;\r\n            }\r\n        }\r\n        this.mappingData[name] = returnObject;\r\n        this._stillLoading -= 1;\r\n    }.bind(this));\r\n};\r\nAssets.prototype.getLineHeight = function(font) {\r\n    return this.fontData[font + \"_LH\"];\r\n};\r\nAssets.prototype.getImage = function(name) {\r\n    return this.images[name];\r\n};\r\nAssets.prototype.containsImage = function(name){\r\n    return _util_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.indexOf(name, Object.keys(this.images)) >= 0;\r\n};\r\nAssets.prototype.getSound = function(name){\r\n    return this.sounds[name];\r\n};\r\nAssets.prototype.containsSound = function(name) {\r\n    return _util_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.indexOf(name, Object.keys(this.sounds)) >= 0;\r\n};\r\nAssets.prototype.getFontData = function(name){\r\n    return this.fontData[name];\r\n};\r\nAssets.prototype.containsFontData = function(name) {\r\n    return _util_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.indexOf(name, this.fontData) >= 0;\r\n};\r\nAssets.prototype.getMappingData = function(name){\r\n    return this.mappingData[name];\r\n};\r\nAssets.prototype.containsMappingData = function(name) {\r\n    return _util_util_js__WEBPACK_IMPORTED_MODULE_0__.Util.indexOf(name, this.mappingData) >= 0;\r\n};\n\n//# sourceURL=webpack://whm/./src/ux/assets.js?");

/***/ }),

/***/ "./src/ux/color.js":
/*!*************************!*\
  !*** ./src/ux/color.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Color\": () => (/* binding */ Color)\n/* harmony export */ });\n\r\nconst Color = {\r\n    fromHexString(hexColor) { return _fromHexString(hexColor);},\r\n    WHITE: _fromHexString(\"#FFFFFF\"),\r\n    BLACK: _fromHexString(\"#000000\"),\r\n    RED: _fromHexString(\"#FF0000\"),\r\n    GREEN: _fromHexString(\"#00FF00\"),\r\n    BLUE: _fromHexString(\"#0000FF\"),\r\n    DARKGREY: _fromHexString(\"#333333\"),\r\n    LIGHTGREY: _fromHexString(\"#666666\"),\r\n    MAGENTA: _fromHexString(\"#FF00FF\"),\r\n    ORANGE: _fromHexString(\"#FFA500\"),\r\n};\r\n\r\nfunction _fromHexString(hexColor) {\r\n    return {\r\n        hexString: hexColor\r\n    };\r\n}\n\n//# sourceURL=webpack://whm/./src/ux/color.js?");

/***/ }),

/***/ "./src/ux/frame.js":
/*!*************************!*\
  !*** ./src/ux/frame.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Frame\": () => (/* binding */ Frame)\n/* harmony export */ });\nfunction Frame(sprite, duration) {\r\n    this.sprite = sprite;\r\n    this.duration = duration;\r\n}\n\n//# sourceURL=webpack://whm/./src/ux/frame.js?");

/***/ }),

/***/ "./src/ux/render.js":
/*!**************************!*\
  !*** ./src/ux/render.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Render\": () => (/* binding */ Render)\n/* harmony export */ });\n/* harmony import */ var _renderer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./renderer.js */ \"./src/ux/renderer.js\");\n/* harmony import */ var _color_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./color.js */ \"./src/ux/color.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Render() {\r\n    this.scaleFactor = 1;\r\n    this.aspectRatio = 0;\r\n    this.gameWidth = 0;\r\n    this.gameHeight = 0;\r\n    this.screenWidth = 0;\r\n    this.screenHeight = 0;\r\n    this.wingWidthX = 0;\r\n    this.wingWidthY = 0;\r\n    this.instance = null;\r\n    this.wingColor = _color_js__WEBPACK_IMPORTED_MODULE_1__.Color.BLACK;\r\n    this._ctx = null;\r\n    this._canvas = null;\r\n}\r\n\r\nRender.prototype.setInstance = function(instance){\r\n    this.instance = instance;\r\n};\r\nRender.prototype.fillCanvas = function(color) {\r\n    this._ctx.fillStyle = color.hexString;\r\n    this._ctx.fillRect(0, 0, this.screenWidth, this.screenHeight);\r\n};\r\nRender.prototype.fillRect = function(x1, y1, x2, y2, color){\r\n    this._renderRect(x1, y1, x2, y2, 1, 0, 0, 0, color, true, 1, 1);\r\n};\r\nRender.prototype.fillRectAlpha = function(x1, y1, x2, y2, alpha, color) {\r\n    this._renderRect(x1, y1, x2, y2, alpha, 0, 0, 0, color, true, 1, 1);\r\n};\r\nRender.prototype.fillRectAlphaRotatedDegrees = function(x1, y1, x2, y2, alpha, anchorXPercent, anchorYPercent,\r\n    angleInDegrees, color){\r\n    this._renderRect(x1, y1, x2, y2, alpha, anchorXPercent, anchorYPercent,\r\n        angleInDegrees * Math.PI / 180, color, true, 1, 1);\r\n};\r\nRender.prototype.fillRectAlphaRotatedRadians = function(x1, y1, x2, y2, alpha, anchorXPercent, anchorYPercent,\r\n    angleInRadians, color){\r\n    this._renderRect(x1, y1, x2, y2, alpha, anchorXPercent, anchorYPercent,\r\n        angleInRadians, color, true, 1, 1);\r\n};\r\nRender.prototype.fillRectRotatedDegrees = function(x1, y1, x2, y2, anchorXPercent, anchorYPercent,\r\n    angleInDegrees, color) {\r\n    this._renderRect(x1, y1, x2, y2, 1, anchorXPercent, anchorYPercent,\r\n        angleInDegrees * Math.PI / 180, color, true, 1, 1);\r\n};\r\nRender.prototype.fillRectRotatedRadians = function(x1, y1, x2, y2, anchorXPercent, anchorYPercent,\r\n    angleInRadians, color) {\r\n    this._renderRect(x1, y1, x2, y2, 1, anchorXPercent, anchorYPercent,\r\n        angleInRadians, color, true, 1, 1);\r\n};\r\nRender.prototype.strokeRect = function(x1, y1, x2, y2, color, lineWidth) {\r\n    this._renderRect(x1, y1, x2, y2, 1, 0, 0, 0, color, false, lineWidth, 1);\r\n};\r\nRender.prototype.strokeRectAlpha = function(x1, y1, x2, y2, alpha, color, lineWidth) {\r\n    this._renderRect(x1, y1, x2, y2, alpha, 0, 0, 0, color, false, lineWidth, 1);\r\n};\r\nRender.prototype.strokeRectAlphaRotatedDegrees = function(x1, y1, x2, y2, alpha, anchorXPercent, anchorYPercent,\r\n    angleInDegrees, color, lineWidth) {\r\n    this._renderRect(x1, y1, x2, y2, alpha, anchorXPercent, anchorYPercent,\r\n        angleInDegrees * Math.PI / 180, color, false, lineWidth, 1);\r\n};\r\nRender.prototype.strokeRectAlphaRotatedRadians = function(x1, y1, x2, y2, alpha, anchorXPercent, anchorYPercent,\r\n    angleInRadians, color, lineWidth) {\r\n    this._renderRect(x1, y1, x2, y2, alpha, anchorXPercent, anchorYPercent,\r\n        angleInRadians, color, false, lineWidth, 1);\r\n};\r\nRender.prototype.strokeRectRotatedDegrees = function(x1, y1, x2, y2, anchorXPercent, anchorYPercent,\r\n    angleInDegrees, color, lineWidth) {\r\n    this._renderRect(x1, y1, x2, y2, 1, anchorXPercent, anchorYPercent,\r\n        angleInDegrees * Math.PI / 180, color, false, lineWidth, 1);\r\n};\r\nRender.prototype.strokeRectRotatedRadians = function(x1, y1, x2, y2, anchorXPercent, anchorYPercent,\r\n    angleInRadians, color, lineWidth) {\r\n    this._renderRect(x1, y1, x2, y2, 1, anchorXPercent, anchorYPercent,\r\n        angleInRadians, color, false, lineWidth, 1);\r\n};\r\nRender.prototype._renderRect = function(x1, y1, x2, y2, alpha, anchorXPercent, anchorYPercent, angleInRadians, color,\r\n    isFill, lineWidth, scale){\r\n    if (alpha <= 0) return;\r\n\r\n    let camera = this.instance.camera;\r\n\r\n    let width = (x2 - x1) * scale * camera.scale;\r\n    let height = (y2 - y1) * scale * camera.scale;\r\n\r\n    if (alpha != 1) this._ctx.globalAlpha = alpha;\r\n\r\n    let xAnchorFactor = this.scaleFactor * width * anchorXPercent;\r\n    let yAnchorFactor = this.scaleFactor * height * anchorYPercent;\r\n\r\n    this._safeTranslate(this.wingWidthX, this.wingWidthY);\r\n    this._safeTranslate(this.scaleFactor * ((x1 - camera.transform.position.x)*camera.scale + camera.fovX),\r\n        this.scaleFactor * ((y1 - camera.transform.position.y)*camera.scale + camera.fovY));\r\n    this._safeTranslate(xAnchorFactor, yAnchorFactor);\r\n    this._ctx.rotate(angleInRadians);\r\n    this._safeTranslate(-xAnchorFactor, -yAnchorFactor);\r\n\r\n    this._safeTranslate(-xAnchorFactor, -yAnchorFactor);\r\n    if(isFill){\r\n        this._ctx.fillStyle = color.hexString;\r\n        this._ctx.fillRect(0, 0, width * this.scaleFactor,\r\n            height * this.scaleFactor);\r\n    }else{\r\n        this._ctx.lineWidth = lineWidth * this.scaleFactor;\r\n        this._ctx.strokeStyle = color.hexString;\r\n        this._ctx.strokeRect(0, 0, width * this.scaleFactor,\r\n            height * this.scaleFactor);\r\n    }\r\n    this._safeTranslate(xAnchorFactor, yAnchorFactor);\r\n\r\n    this._safeTranslate(xAnchorFactor, yAnchorFactor);\r\n    this._ctx.rotate(-angleInRadians);\r\n    this._safeTranslate(-xAnchorFactor, -yAnchorFactor);\r\n    this._safeTranslate(-this.scaleFactor * ((x1 - camera.transform.position.x)*camera.scale + camera.fovX),\r\n        -this.scaleFactor * ((y1 - camera.transform.position.y)*camera.scale + camera.fovY));\r\n    this._safeTranslate(-this.wingWidthX, -this.wingWidthY);\r\n    \r\n    if (alpha != 1) this._ctx.globalAlpha = 1;\r\n};\r\nRender.prototype.fillCircle = function(x, y, r, color){\r\n    this._renderCircle(x, y, r, 1, color, true, 1);\r\n};\r\nRender.prototype.fillCircleAlpha = function(x, y, r, alpha, color){\r\n    this._renderCircle(x, y, r, alpha, color, true, 1);\r\n};\r\nRender.prototype.strokeCircle = function(x, y, r, color, lineWidth){\r\n    this._renderCircle(x, y, r, 1, color, false, lineWidth);\r\n};\r\nRender.prototype.strokeCircleAlpha = function(x, y, r, alpha, color, lineWidth){\r\n    this._renderCircle(x, y, r, alpha, color, false, lineWidth);\r\n};\r\nRender.prototype.fillArc = function(x, y, r, radianStart, radianEnd, color){\r\n    this._renderArc(x, y, r, 1, color, true, 1, radianStart, radianEnd);\r\n};\r\nRender.prototype.fillArcAlpha = function(x, y, r, radianStart, radianEnd, alpha, color){\r\n    this._renderArc(x, y, r, alpha, color, true, 1, radianStart, radianEnd);\r\n};\r\nRender.prototype.strokeArc = function(x, y, r, radianStart, radianEnd, color, lineWidth){\r\n    this._renderArc(x, y, r, 1, color, false, lineWidth, radianStart, radianEnd);\r\n};\r\nRender.prototype.strokeArcAlpha = function(x, y, r, radianStart, radianEnd, alpha, color, lineWidth){\r\n    this._renderArc(x, y, r, alpha, color, false, lineWidth, radianStart, radianEnd);\r\n};\r\nRender.prototype._renderCircle = function(x, y, r, alpha, color, isFill, lineWidth){\r\n    this._renderArc(x, y,\r\n            r, alpha, color, isFill, lineWidth, 0, 2*Math.PI);\r\n};\r\nRender.prototype._renderArc = function(x, y, r, alpha, color, isFill, lineWidth, radianStart, radianEnd){\r\n    if (alpha <= 0) return;\r\n    if (alpha != 1) this._ctx.globalAlpha = alpha;\r\n    this._ctx.lineWidth = lineWidth * this.scaleFactor;\r\n    this._ctx.beginPath();\r\n    let camera = this.instance.camera;\r\n    let dx = ((x-camera.transform.position.x)*camera.scale+camera.fovX) * this.scaleFactor + this.wingWidthX;\r\n    let dy = ((y-camera.transform.position.y)*camera.scale+camera.fovY) * this.scaleFactor + this.wingWidthY;\r\n    this._ctx.moveTo(dx, dy);\r\n    this._ctx.arc(dx, dy, r * this.scaleFactor * camera.scale, radianStart, radianEnd);\r\n    this._ctx.closePath();\r\n    if(isFill){\r\n        this._ctx.fillStyle = color.hexString;\r\n        this._ctx.fill();\r\n    }else{\r\n        this._ctx.strokeStyle = color.hexString;\r\n        this._ctx.stroke();\r\n    }\r\n    if (alpha != 1) this._ctx.globalAlpha = 1;\r\n};\r\nRender.prototype._renderPolygon = function(x, y, points, alpha, color, isFill, lineWidth){\r\n    if (alpha <= 0) return;\r\n    if (alpha != 1) this._ctx.globalAlpha = alpha;\r\n    let camera = this.instance.camera;\r\n    this._ctx.lineWidth = lineWidth * this.scaleFactor;\r\n    this._ctx.beginPath();\r\n    let dx = ((x-camera.transform.position.x)*camera.scale+camera.fovX) * this.scaleFactor + this.wingWidthX;\r\n    let dy = ((y-camera.transform.position.y)*camera.scale+camera.fovY) * this.scaleFactor + this.wingWidthY;\r\n    this._ctx.moveTo(dx, dy);\r\n    for(var i = 0; i < points.length; i++){\r\n        let p = points[i];\r\n        let px = dx + p.x * this.scaleFactor * camera.scale;\r\n        let py = dy + p.y * this.scaleFactor * camera.scale;\r\n        if(i == 0){\r\n            this._ctx.moveTo(px, py);\r\n        }else{\r\n            this._ctx.lineTo(px, py);\r\n        }\r\n    }\r\n    this._ctx.closePath();\r\n    if(isFill){\r\n        this._ctx.fillStyle = color.hexString;\r\n        this._ctx.fill();\r\n    }else{\r\n        this._ctx.strokeStyle = color.hexString;\r\n        this._ctx.stroke();\r\n    }\r\n    if (alpha != 1) this._ctx.globalAlpha = 1;\r\n};\r\nRender.prototype.drawLine = function(x1, y1, x2, y2, lineWidth, color){\r\n    this._renderLine(x1, y1, x2, y2, lineWidth, 1, color);\r\n};\r\nRender.prototype.drawLineAlpha = function(x1, y1, x2, y2, alpha, lineWidth, color) {\r\n    this._renderLine(x1, y1, x2, y2, lineWidth, alpha, color);\r\n};\r\nRender.prototype._renderLine = function(x1, y1, x2, y2, lineWidth, alpha, color){\r\n    if (alpha != 1) this._ctx.globalAlpha = alpha;\r\n    this._ctx.beginPath();\r\n    this._ctx.moveTo(x1 * this.scaleFactor + this.wingWidthX, \r\n        y1 * this.scaleFactor + this.wingWidthY);\r\n    this._ctx.lineTo(x2 * this.scaleFactor + this.wingWidthX,\r\n        y2 * this.scaleFactor + this.wingWidthY);\r\n    this._ctx.lineWidth = lineWidth * this.scaleFactor;\r\n    this._ctx.strokeStyle = color.hexString;\r\n    this._ctx.stroke();\r\n    if (alpha != 1) this._ctx.globalAlpha = 1;\r\n};\r\nRender.prototype.drawImage = function(name, x, y) {\r\n    this._renderImage(name, x, y, 1, 1, 0, 0, 0, null, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawImageFiltered = function(name, x, y, color, colorAlpha) {\r\n    this._renderImage(name, x, y, 1, 1, 0, 0, 0, null, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawImageScaled = function(name, x, y, scale){\r\n    this._renderImage(name, x, y, scale, 1, 0, 0, 0, null, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawImageScaledFiltered = function(name, x, y, scale, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, 1, 0, 0, 0, null, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawImageAlpha = function(name, x, y, alpha) {\r\n    this._renderImage(name, x, y, 1, alpha, 0, 0, 0, null, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawImageAlphaFiltered = function(name, x, y, alpha, color, colorAlpha) {\r\n    this._renderImage(name, x, y, 1, alpha, 0, 0, 0, null, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawImageScaledAlpha = function(name, x, y, scale, alpha) {\r\n    this._renderImage(name, x, y, scale, alpha, 0, 0, 0, null, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawImageScaledAlphaFiltered = function(name, x, y, scale, alpha, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, alpha, 0, 0, 0, null, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawImageRotatedDegrees = function(name, x, y, anchorXPercent, anchorYPercent, angleInDegrees){\r\n    this._renderImage(name, x, y, 1, 1, anchorXPercent,\r\n        anchorYPercent, angleInDegrees * Math.PI / 180, null, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawImageRotatedDegreesFiltered = function(name, x, y, anchorXPercent, anchorYPercent, angleInDegrees,\r\n    color, colorAlpha) {\r\n    this._renderImage(name, x, y, 1, 1, anchorXPercent,\r\n        anchorYPercent, angleInDegrees * Math.PI / 180, null, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawImageRotatedRadians = function(name, x, y, anchorXPercent, anchorYPercent, angleInRadians) {\r\n    this._renderImage(name, x, y, 1, 1, anchorXPercent, anchorYPercent,\r\n        angleInRadians, null, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawImageRotatedRadiansFiltered = function(name, x, y, anchorXPercent, anchorYPercent, angleInRadians,\r\n    color, colorAlpha) {\r\n    this._renderImage(name, x, y, 1, 1, anchorXPercent, anchorYPercent,\r\n        angleInRadians, null, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawImageScaledRotatedDegrees = function(name, x, y, scale, anchorXPercent, anchorYPercent,\r\n    angleInDegrees) {\r\n    this._renderImage(name, x, y, scale, 1, anchorXPercent, anchorYPercent, \r\n        angleInDegrees * Math.PI / 180, null, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawImageScaledRotatedDegreesFiltered = function(name, x, y, scale, anchorXPercent, anchorYPercent,\r\n    angleInDegrees, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, 1, anchorXPercent, anchorYPercent,\r\n        angleInDegrees * Math.PI / 180, null, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawImageScaledRotatedRadians = function(name, x, y, scale, anchorXPercent, anchorYPercent,\r\n    angleInRadians) {\r\n    this._renderImage(name, x, y, scale, 1, anchorXPercent, anchorYPercent,\r\n        angleInRadians, null, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawImageScaledRotatedRadiansFiltered = function(name, x, y, scale, anchorXPercent, anchorYPercent,\r\n    angleInRadians, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, 1, anchorXPercent, anchorYPercent,\r\n        angleInRadians, null, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawImageScaledAlphaRotatedDegrees = function(name, x, y, scale, alpha, anchorXPercent, anchorYPercent,\r\n    angleInDegrees) {\r\n    this._renderImage(name, x, y, scale, alpha, anchorXPercent,\r\n        anchorYPercent, angleInDegrees * Math.PI / 180, null, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawImageScaledAlphaRotatedDegreesFiltered = function(name, x, y, scale, alpha, anchorXPercent, \r\n    anchorYPercent, angleInDegrees, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, alpha, anchorXPercent,\r\n        anchorYPercent, angleInDegrees * Math.PI / 180, null, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawImageScaledAlphaRotatedRadians = function(name, x, y, scale, alpha, anchorXPercent, anchorYPercent,\r\n    angleInRadians){\r\n    this._renderImage(name, x, y, scale, alpha, anchorXPercent, anchorYPercent, \r\n        angleInRadians, null, null, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawImageScaledAlphaRotatedRadiansFiltered = function(name, x, y, scale, alpha, anchorXPercent,\r\n    anchorYPercent, angleInRadians, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, alpha, anchorXPercent, anchorYPercent,\r\n        angleInRadians, null, null, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawMappedImage = function(name, mappingData, x, y) {\r\n    this._renderImage(name, x, y, 1, 1, 0, 0, 0, mappingData, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawMappedImageFiltered = function(name, mappingData, x, y, color, colorAlpha) {\r\n    this._renderImage(name, x, y, 1, 1, 0, 0, 0, mappingData, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaled = function(name, mappingData, x, y, scale) {\r\n    this._renderImage(name, x, y, scale, 1, 0, 0, 0, mappingData, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaledFiltered = function(name, mappingData, x, y, scale, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, 1, 0, 0, 0, mappingData, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawMappedImageAlpha = function(name, mappingData, x, y, alpha) {\r\n    this._renderImage(name, x, y, 1, alpha, 0, 0, 0, mappingData, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawMappedImageAlphaFiltered = function(name, mappingData, x, y, alpha, color, colorAlpha) {\r\n    this._renderImage(name, x, y, 1, alpha, 0, 0, 0, mappingData, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaledAlpha = function(name, mappingData, x, y, scale, alpha) {\r\n    this._renderImage(name, x, y, scale, alpha, 0, 0, 0, mappingData, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaledAlphaFiltered = function(name, mappingData, x, y, scale, alpha, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, alpha, 0, 0, 0, mappingData, true, color,\r\n        colorAlpha, false, false);\r\n};\r\nRender.prototype.drawMappedImageRotatedDegrees = function(name, mappingData, x, y, anchorXPercent, anchorYPercent,\r\n    angleInDegrees) {\r\n    this._renderImage(name, x, y, 1, 1, anchorXPercent,\r\n        anchorYPercent, angleInDegrees * Math.PI / 180, mappingData, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawMappedImageRotatedDegreesFiltered = function(name, mappingData, x, y, anchorXPercent, anchorYPercent,\r\n    angleInDegrees, color, colorAlpha) {\r\n    this._renderImage(name, x, y, 1, 1, anchorXPercent,\r\n        anchorYPercent, angleInDegrees * Math.PI / 180, mappingData, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawMappedImageRotatedRadians = function(name, mappingData, x, y, anchorXPercent, anchorYPercent,\r\n    angleInRadians) {\r\n    this._renderImage(name, x, y, 1, 1, anchorXPercent, anchorYPercent,\r\n        angleInRadians, mappingData, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawMappedImageRotatedRadiansFiltered = function(name, mappingData, x, y, anchorXPercent, anchorYPercent,\r\n    angleInRadians, color, colorAlpha) {\r\n    this._renderImage(name, x, y, 1, 1, anchorXPercent, anchorYPercent,\r\n        angleInRadians, mappingData, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaledRotatedDegrees = function(name, mappingData, x, y, scale, anchorXPercent,\r\n    anchorYPercent, angleInDegrees) {\r\n    this._renderImage(name, x, y, scale, 1, anchorXPercent, anchorYPercent,\r\n        angleInDegrees * Math.PI / 180, mappingData, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaledRotatedDegreesFiltered = function(name, mappingData, x, y, scale, anchorXPercent,\r\n    anchorYPercent, angleInDegrees, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, 1, anchorXPercent, anchorYPercent,\r\n        angleInDegrees * Math.PI / 180, mappingData, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaledRotatedRadians = function(name, mappingData, x, y, scale, anchorXPercent,\r\n    anchorYPercent, angleInRadians) {\r\n    this._renderImage(name, x, y, scale, 1, anchorXPercent, anchorYPercent,\r\n        angleInRadians, mappingData, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaledRotatedRadiansFiltered = function(name, mappingData, x, y, scale, anchorXPercent,\r\n    anchorYPercent, angleInRadians, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, 1, anchorXPercent, anchorYPercent,\r\n        angleInRadians, mappingData, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaledAlphaRotatedDegrees = function(name, mappingData, x, y, scale, alpha, anchorXPercent,\r\n    anchorYPercent, angleInDegrees) {\r\n    this._renderImage(name, x, y, scale, alpha, anchorXPercent,\r\n        anchorYPercent, angleInDegrees * Math.PI / 180, mappingData, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaledAlphaRotatedDegreesFiltered = function(name, mappingData, x, y, scale, alpha,\r\n    anchorXPercent, anchorYPercent, angleInDegrees, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, alpha, anchorXPercent,\r\n        anchorYPercent, angleInDegrees * Math.PI / 180, mappingData, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaledAlphaRotatedRadians = function(name, mappingData, x, y, scale, alpha, anchorXPercent,\r\n    anchorYPercent, angleInRadians) {\r\n    this._renderImage(name, x, y, scale, alpha, anchorXPercent, anchorYPercent,\r\n        angleInRadians, mappingData, false, null, 0, false, false);\r\n};\r\nRender.prototype.drawMappedImageScaledAlphaRotatedRadiansFiltered = function(name, mappingData, x, y, scale, alpha,\r\n    anchorXPercent, anchorYPercent, angleInRadians, color, colorAlpha) {\r\n    this._renderImage(name, x, y, scale, alpha, anchorXPercent, anchorYPercent,\r\n        angleInRadians, mappingData, true, color, colorAlpha, false, false);\r\n};\r\nRender.prototype.render = function(r){\r\n    if(!r.isVisible) return;\r\n    if(r instanceof _renderer_js__WEBPACK_IMPORTED_MODULE_0__.RectangleRenderer) {\r\n        this._renderRect(r.x, r.y, r.x+r.width, r.y+r.height, r.alpha, r.anchorXPercent, r.anchorYPercent,\r\n            r.angleInRadians, r.color, r.isFill, r.lineWidth, r.scale);\r\n    } else if(r instanceof _renderer_js__WEBPACK_IMPORTED_MODULE_0__.CircleRenderer) {\r\n        this._renderCircle(r.x, r.y, r.r, r.alpha, r.color, r.isFill, r.lineWidth);\r\n    } else if(r instanceof _renderer_js__WEBPACK_IMPORTED_MODULE_0__.ArcRenderer){\r\n        this._renderArc(r.x, r.y, r.r, r.alpha, r.color, r.isFill, r.lineWidth, r.radianStart, r.radianEnd);\r\n    } else if(r instanceof _renderer_js__WEBPACK_IMPORTED_MODULE_0__.PolygonRenderer){\r\n        this._renderPolygon(r.x, r.y, r.points, r.alpha, r.color, r.isFill, r.lineWidths);\r\n    } else if(r instanceof _renderer_js__WEBPACK_IMPORTED_MODULE_0__.TextRenderer){\r\n        this.drawTextNeo(r.font, r.size, r.text, r.color, r.x, r.y, r.scale, r.alignment, r.baseline, r.alpha,\r\n            r.anchorXPercent, r.anchorYPercent, r.angleInRadians);\r\n    }\r\n    else{\r\n        this._renderImage(r.imageName, r.x, r.y, r.scale, r.alpha, r.anchorXPercent, r.anchorYPercent, r.angleInRadians, \r\n        (this.instance.assets.getMappingData(r.imageName)) ? this.instance.assets.getMappingData(r.imageName)[r.spriteName] : null, \r\n        r.drawSil, r.silColor, r.silAlpha, r.flipX, r.flipY);\r\n    }\r\n};\r\nRender.prototype._renderImage = function(name, x, y, scale, alpha, anchorXPercent, anchorYPercent,\r\n    angleInRadians, mappingData, drawSil, silColor, silAlpha, flipX, flipY){\r\n    if(alpha <= 0) return;\r\n    if(drawSil){\r\n        let silName = name + SilSuffix;\r\n        if(!this.instance.assets.containsImage(silName)){\r\n            this.instance.assets._createSil(name, silColor);\r\n        }\r\n    }\r\n    if(!this.instance.assets.containsImage(name)){\r\n        this.instance.error(\"Image not loaded: \" + name);\r\n        return;\r\n    }\r\n    let img = this.instance.assets.getImage(name);\r\n\r\n    let camera = this.instance.camera;\r\n\r\n    var xAnchorFactor = this.scaleFactor * img.width * anchorXPercent * scale * camera.scale;\r\n    var yAnchorFactor = this.scaleFactor * img.height * anchorYPercent * scale * camera.scale;\r\n    var mapX = 0;\r\n    var mapY = 0;\r\n    var mapWidth = img.width;\r\n    var mapHeight = img.height;\r\n    var drawWidth = this.scaleFactor * img.width * scale * camera.scale;\r\n    var drawHeight = this.scaleFactor * img.height * scale * camera.scale;\r\n    var xOffsetFactor = 0.5 * drawWidth;\r\n    var yOffsetFactor = 0 * drawHeight;\r\n    if (mappingData != null) {\r\n        mapX = mappingData.x;\r\n        mapY = mappingData.y;\r\n        mapWidth = mappingData.width;\r\n        mapHeight = mappingData.height;\r\n        drawWidth = mappingData.width * this.scaleFactor * scale * camera.scale;\r\n        drawHeight = mappingData.height * this.scaleFactor * scale * camera.scale;\r\n        xAnchorFactor = this.scaleFactor * mapWidth * anchorXPercent * scale * camera.scale;\r\n        yAnchorFactor = this.scaleFactor * mapHeight * anchorYPercent * scale * camera.scale;\r\n        xOffsetFactor = mappingData.xoffset * drawWidth;\r\n        yOffsetFactor = mappingData.yoffset * drawHeight;\r\n    }\r\n\r\n    this._safeTranslate(this.wingWidthX, this.wingWidthY);\r\n    this._safeTranslate(this.scaleFactor * ((x - camera.transform.position.x)*camera.scale + camera.fovX),\r\n        this.scaleFactor * ((y - camera.transform.position.y)*camera.scale + camera.fovY));\r\n    if(flipX) this._ctx.scale(-1, 1);\r\n    if(flipY) this._ctx.scale(1, -1);\r\n    this._safeTranslate(-xOffsetFactor, -yOffsetFactor);\r\n    this._safeTranslate(xAnchorFactor, yAnchorFactor);\r\n    this._ctx.rotate(angleInRadians);\r\n    this._safeTranslate(-xAnchorFactor, -yAnchorFactor);\r\n\r\n    if(alpha != 1) this._ctx.globalAlpha = alpha;\r\n    if (!drawSil || silAlpha != 1) {\r\n        this._ctx.drawImage(img.source,\r\n            mapX,\r\n            mapY,\r\n            mapWidth,\r\n            mapHeight,\r\n            0,\r\n            0,\r\n            drawWidth,\r\n            drawHeight);\r\n    }\r\n    if (drawSil && silAlpha >= 0) {\r\n        if (silAlpha != 1) this._ctx.globalAlpha *= silAlpha;\r\n        this._ctx.globalCompositeOperation = \"source-atop\";\r\n        let silName = name + SilSuffix;\r\n        if (!this.instance.assets.containsImage(silName)) {\r\n            this.instance.error(\"Image silhouette not loaded: \" + name);\r\n            return;\r\n        }\r\n        let silImg = this.instance.assets.getImage(silName);\r\n        this._ctx.drawImage(silImg.source,\r\n            mapX,\r\n            mapY,\r\n            mapWidth,\r\n            mapHeight,\r\n            0,\r\n            0,\r\n            drawWidth,\r\n            drawHeight);\r\n        this._ctx.globalCompositeOperation = \"source-over\";\r\n        this._ctx.globalAlpha = 1;\r\n    }\r\n    if(alpha != 1) this._ctx.globalAlpha = 1;\r\n\r\n    this._safeTranslate(xAnchorFactor, yAnchorFactor);\r\n    this._ctx.rotate(-angleInRadians);\r\n    this._safeTranslate(-xAnchorFactor, -yAnchorFactor);\r\n    this._safeTranslate(xOffsetFactor, yOffsetFactor);\r\n    if(flipX) this._ctx.scale(-1, 1);\r\n    if(flipY) this._ctx.scale(1, -1);\r\n    this._safeTranslate(-this.scaleFactor * ((x - camera.transform.position.x)*camera.scale + camera.fovX),\r\n        -this.scaleFactor * ((y - camera.transform.position.y)*camera.scale + camera.fovY));\r\n    this._safeTranslate(-this.wingWidthX, -this.wingWidthY);\r\n};\r\nRender.prototype._render = function(){\r\n    if(this.instance.scene.onRender) this.instance.scene.onRender();\r\n    this.instance._gameObjects.sort(\r\n        function(a,b){return (!a.renderer || !b.renderer) ? 0 :\r\n            a.renderer.zorder - b.renderer.zorder;});\r\n    for(let i=0;i<this.instance._gameObjects.length;i++){\r\n        let gameObj = this.instance._gameObjects[i];\r\n        if(gameObj.renderer) {\r\n            gameObj.renderer.x = gameObj.transform.position.x;\r\n            gameObj.renderer.y = gameObj.transform.position.y;\r\n            gameObj.renderer.scale = gameObj.scale;\r\n            gameObj.renderer.angleInRadians = gameObj.transform.rotation.radians;\r\n            this.render(gameObj.renderer);\r\n        }\r\n    }\r\n\r\n    this.instance.camera.storeState();\r\n    this.instance.camera.reset();\r\n    this.instance._uiItems.sort(\r\n        function(a,b){return a.renderer.zorder - b.renderer.zorder;});\r\n    for(let i=0;i<this.instance._uiItems.length;i++){\r\n        let gameObj = this.instance._uiItems[i];\r\n        if(gameObj.renderer) {\r\n            gameObj.renderer.x = gameObj.transform.position.x;\r\n            gameObj.renderer.y = gameObj.transform.position.y;\r\n            gameObj.renderer.scale = gameObj.scale;\r\n            gameObj.renderer.angleInRadians = gameObj.transform.rotation.radians;\r\n            this.render(gameObj.renderer);\r\n        }\r\n    }\r\n    this.instance.camera.loadState();\r\n\r\n    if (this.wingWidthX > 0) {\r\n        this._ctx.fillStyle = this.wingColor.hexString;\r\n        this._ctx.fillRect(0, 0, this.wingWidthX, this.screenHeight);\r\n        this._ctx.fillRect(this.screenWidth - this.wingWidthX, 0, this.screenWidth,\r\n            this.screenHeight);\r\n    }\r\n    if (this.wingWidthY > 0){\r\n        this._ctx.fillStyle = this.wingColor.hexString;\r\n        this._ctx.fillRect(0, 0, this.screenWidth, this.wingWidthY);\r\n        this._ctx.fillRect(0, this.screenHeight - this.wingWidthY, this.screenWidth,\r\n            this.screenHeight);\r\n    }\r\n};\r\nRender.prototype.calculateWings = function(canvas, gameWidth, gameHeight){\r\n        // Calculate wing widths\r\n        if(canvas.width > canvas.height){\r\n            this.wingWidthX = (canvas.width - gameWidth * this.scaleFactor) / 2;\r\n        }else if(canvas.height > canvas.width){\r\n            this.scaleFactor = canvas.width / gameWidth;\r\n            this.wingWidthY = (canvas.height - gameHeight * this.scaleFactor) / 2;\r\n        }\r\n};\r\nRender.prototype.drawText = function(font, text, x, y){\r\n    this.drawTextScaledAlphaRotatedRadians(font, text, x, y, 1, 1);\r\n};\r\nRender.prototype.drawTextScaled = function(font, text, x, y, scale) {\r\n    this.drawTextScaledAlphaRotatedRadians(font, text, x, y, scale, 1);\r\n};\r\nRender.prototype.drawTextAlpha = function(font, text, x, y, alpha) {\r\n    this.drawTextScaledAlphaRotatedRadians(font, text, x, y, 1, alpha);\r\n};\r\nRender.prototype.drawTextScaledAlpha = function(font, text, x, y, scale, alpha) {\r\n    this.drawTextScaledAlphaRotatedRadians(font, text, x, y, scale, alpha);\r\n};\r\nRender.prototype.drawTextScaledAlphaRotatedDegrees = function(font, text, x, y, scale, alpha, anchorXPercent,\r\n    anchorYPercent, angleInDegrees) {\r\n    this.drawTextScaledAlphaRotatedRadians(font, text, x, y, scale, alpha,\r\n        anchorXPercent, anchorYPercent, angleInDegrees * Math.PI / 180);\r\n};\r\nRender.prototype.drawTextScaledAlphaRotatedRadians = function(font, text, x, y, scale, alpha, anchorXPercent,\r\n    anchorYPercent, angleInRadians) {\r\n    this._renderText(font, text, x, y, scale, alpha, anchorXPercent, anchorYPercent,\r\n        angleInRadians, 5, -35);\r\n};\r\nRender.prototype.drawTextNeo = function(font, size, text, color, x, y, scale, alignment, baseline, alpha, anchorXPercent, anchorYPercent, angleInRadians){\r\n    this._renderText(font, text, size, color, x, y, scale, alpha, anchorXPercent, anchorYPercent, angleInRadians, alignment, baseline, 1, 1);\r\n};\r\nRender.prototype._renderText = function(font, text, size, color, x, y, scale, alpha, anchorXPercent, anchorYPercent,\r\n    angleInRadians, alignment, baseline, letterSpacing, lineSpacingDelta){\r\n    if (alpha <= 0) return;\r\n    if(text == null) return;\r\n    \r\n    // Initial variables\r\n    let img = this.instance.assets.getImage(font);\r\n    var xdelta = 0;\r\n    var ydelta = 0;\r\n    let lineHeight = this.instance.assets.getLineHeight(font);\r\n    if (alpha != 1) this._ctx.globalAlpha = alpha;\r\n\r\n    let camera = this.instance.camera;\r\n\r\n    // Get measurements\r\n    let fontSize = size * this.scaleFactor * scale * camera.scale;\r\n    var measurement = this.measureText(font, text, size, letterSpacing);\r\n\r\n    var xAnchorFactor = this.scaleFactor * measurement.width * anchorXPercent * scale * camera.scale;\r\n    var yAnchorFactor = this.scaleFactor * measurement.height * anchorYPercent * scale * camera.scale;\r\n\r\n    this._safeTranslate(this.wingWidthX, this.wingWidthY);\r\n    this._safeTranslate(this.scaleFactor * ((x - camera.transform.position.x)*camera.scale + camera.fovX),\r\n        this.scaleFactor * ((y - camera.transform.position.y)*camera.scale + camera.fovY));\r\n    this._safeTranslate(xAnchorFactor, yAnchorFactor);\r\n    this._ctx.rotate(angleInRadians);\r\n    this._safeTranslate(-xAnchorFactor, -yAnchorFactor);\r\n\r\n    this._ctx.textAlign = alignment;\r\n    this._ctx.textBaseline = baseline;\r\n    this._ctx.font = fontSize + \"px \" + font;\r\n    this._ctx.fillStyle = color.hexString;\r\n\r\n    let lines = text.split('\\n');\r\n    for (var i = 0; i<lines.length; i++)\r\n        this._ctx.fillText(lines[i], 0, i*(measurement.height*lineSpacingDelta));\r\n\r\n    this._safeTranslate(xAnchorFactor, yAnchorFactor);\r\n    this._ctx.rotate(-angleInRadians);\r\n    this._safeTranslate(-xAnchorFactor, -yAnchorFactor);\r\n    this._safeTranslate(-this.scaleFactor * ((x - camera.transform.position.x)*camera.scale + camera.fovX),\r\n        -this.scaleFactor * ((y - camera.transform.position.y)*camera.scale + camera.fovY));\r\n    this._safeTranslate(-this.wingWidthX, -this.wingWidthY);\r\n\r\n    if (alpha != 1) this._ctx.globalAlpha = 1;\r\n};\r\nRender.prototype.measureRenderedText = function(font, text, scale, letterSpacing){\r\n    var totalWidth = 0;\r\n    var totalHeight = 0;\r\n    for (var i = 0; i < text.length; i++) {\r\n        var ascii = text.charCodeAt(i).toString();\r\n        var isSpace = ascii == \"32\";\r\n        if (isSpace) ascii = \"98\"; // Replace space with b\r\n        let name = font + \"_\" + ascii;\r\n        let data = this.instance.assets.getFontData(name);\r\n        totalWidth += data.width;\r\n        if(i < text.length - 1) totalWidth += letterSpacing;\r\n        if(data.height > totalHeight) totalHeight = data.height;\r\n    }\r\n    return {width: totalWidth * this.scaleFactor * scale,\r\n            height: totalHeight * this.scaleFactor * scale};\r\n};\r\nRender.prototype.measureText = function(font, text, size, scale){\r\n    // var totalWidth = 0;\r\n    // var totalHeight = 0;\r\n    // for (var i = 0; i < text.length; i++) {\r\n    //     var ascii = text.charCodeAt(i).toString();\r\n    //     var isSpace = ascii == \"32\";\r\n    //     if (isSpace) ascii = \"98\"; // Replace space with b\r\n    //     var isNewLine = ascii == \"10\";\r\n    //     if(!isNewLine){\r\n    //         let name = font + \"_\" + ascii;\r\n    //         let data = this.instance.assets.getFontData(name);\r\n    //         totalWidth += data.width;\r\n    //         if (i < text.length - 1) totalWidth += letterSpacing;\r\n    //         if (data.height > totalHeight) totalHeight = data.height;\r\n    //     }\r\n    // }\r\n    // return {\r\n    //     width: totalWidth * scale, height: totalHeight * scale\r\n    // };\r\n    let camera = this.instance.camera;\r\n    let fontSize = size * this.scaleFactor * scale * camera.scale;\r\n    this._ctx.font = fontSize + \"px \" + font;\r\n    return {width: this._ctx.measureText(text).width, height: fontSize};\r\n};\r\nRender.prototype.measureUnscaledText = function(font, text, letterSpacing) {\r\n    var totalWidth = 0;\r\n    var totalHeight = 0;\r\n    for (var i = 0; i < text.length; i++) {\r\n        var ascii = text.charCodeAt(i).toString();\r\n        var isSpace = ascii == \"32\";\r\n        if (isSpace) ascii = \"98\"; // Replace space with b\r\n        let name = font + \"_\" + ascii;\r\n        let data = this.instance.assets.getFontData(name);\r\n        totalWidth += data.width;\r\n        if (i < text.length - 1) totalWidth += letterSpacing;\r\n        if (data.height > totalHeight) totalHeight = data.height;\r\n    }\r\n    return {\r\n        width: totalWidth, height: totalHeight\r\n    };\r\n};\r\nRender.prototype.renderFrame = function(){\r\n    requestAnimationFrame(this._render.bind(this));\r\n};\r\nRender.prototype._getCursorPosition = function(event) {\r\n    const rect = this._canvas.getBoundingClientRect();\r\n    let x = parseInt(((event.clientX - rect.left) - this.wingWidthX) / this.scaleFactor);\r\n    //x = _clamp(x, 0, this.gameWidth);\r\n    let y = parseInt(((event.clientY - rect.top) - this.wingWidthY) / this.scaleFactor);\r\n    //y = _clamp(y, 0, this.gameHeight);\r\n    if (x < 0 ||\r\n        x > this.gameWidth ||\r\n        y < 0 ||\r\n        y > this.gameHeight)\r\n        return {x: null, y: null};\r\n    let camera = this.instance.camera;\r\n    return { x: x + camera.transform.position.x - camera.fovX, y: y + camera.transform.position.y - camera.fovY };\r\n};\r\nRender.prototype._getRawCursorPosition = function(event){\r\n    const rect = this._canvas.getBoundingClientRect();\r\n    let x = parseInt(((event.clientX - rect.left) - this.wingWidthX) / this.scaleFactor);\r\n    //x = _clamp(x, 0, this.gameWidth);\r\n    let y = parseInt(((event.clientY - rect.top) - this.wingWidthY) / this.scaleFactor);\r\n    //y = _clamp(y, 0, this.gameHeight);\r\n    if (x < 0 ||\r\n        x > this.gameWidth ||\r\n        y < 0 ||\r\n        y > this.gameHeight)\r\n        return {x: null, y: null};\r\n    return { x: x, y: y };\r\n};\r\nRender.prototype._safeTranslate = function(x, y){\r\n    this._ctx.translate(this._safeRound(x), this._safeRound(y));\r\n};\r\nRender.prototype._safeRound = function(v){\r\n    return (v >= 0 || -1) * Math.round(Math.abs(v));\r\n};\n\n//# sourceURL=webpack://whm/./src/ux/render.js?");

/***/ }),

/***/ "./src/ux/renderer.js":
/*!****************************!*\
  !*** ./src/ux/renderer.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ImageRenderer\": () => (/* binding */ ImageRenderer),\n/* harmony export */   \"RectangleRenderer\": () => (/* binding */ RectangleRenderer),\n/* harmony export */   \"CircleRenderer\": () => (/* binding */ CircleRenderer),\n/* harmony export */   \"ArcRenderer\": () => (/* binding */ ArcRenderer),\n/* harmony export */   \"PolygonRenderer\": () => (/* binding */ PolygonRenderer),\n/* harmony export */   \"BitmapTextRenderer\": () => (/* binding */ BitmapTextRenderer),\n/* harmony export */   \"TextRenderer\": () => (/* binding */ TextRenderer)\n/* harmony export */ });\nfunction ImageRenderer(name) {\r\n        this.imageName = name,\r\n        this.x = 0;\r\n        this.y = 0;\r\n        this.scale = 1;\r\n        this.alpha = 1;\r\n        this.anchorXPercent = 0.5;\r\n        this.anchorYPercent = 0.5;\r\n        this.angleInRadians = 0;\r\n        this.spriteName = null;\r\n        this.drawSil = false;\r\n        this.silColor = null;\r\n        this.silAlpha = 0;\r\n        this.flipX = false;\r\n        this.flipY = false;\r\n        this.isVisible = true;\r\n        this.zorder = 0;\r\n}\r\n\r\nfunction RectangleRenderer(width, height, color) {\r\n    this.width = width;\r\n    this.height = height;\r\n    this.color = color;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.scale = 1;\r\n    this.alpha = 1;\r\n    this.anchorXPercent = 0.5;\r\n    this.anchorYPercent = 0.5;\r\n    this.angleInRadians = 0;\r\n    this.isFill = true;\r\n    this.lineWidth = 1;\r\n    this.flipX = false;\r\n    this.flipY = false;\r\n    this.isVisible = true;\r\n    this.zorder = 0;\r\n}\r\n\r\nfunction CircleRenderer(r, color){\r\n    this.r = r;\r\n    this.color = color;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.scale = 1;\r\n    this.alpha = 1;\r\n    this.anchorXPercent = 0.5;\r\n    this.anchorYPercent = 0.5;\r\n    this.isFill = true;\r\n    this.lineWidth = 1;\r\n    this.flipX = false;\r\n    this.flipY = false;\r\n    this.isVisible = true;\r\n    this.zorder = 0;\r\n}\r\n\r\nfunction ArcRenderer(r, radianStart, radianEnd, color){\r\n    this.r = r;\r\n    this.radianStart = radianStart;\r\n    this.radianEnd = radianEnd;\r\n    this.color = color;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.scale = 1;\r\n    this.alpha = 1;\r\n    this.anchorXPercent = 0.5;\r\n    this.anchorYPercent = 0.5;\r\n    this.isFill = true;\r\n    this.lineWidth = 1;\r\n    this.flipX = false;\r\n    this.flipY = false;\r\n    this.isVisible = true;\r\n    this.zorder = 0;\r\n}\r\n\r\nfunction PolygonRenderer(points, color) {\r\n    this.points = points;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.scale = 1;\r\n    this.alpha = 1;\r\n    this.anchorXPercent = 0.5;\r\n    this.anchorYPercent = 0.5;\r\n    this.isFill = true;\r\n    this.lineWidth = 1;\r\n    this.color = color;\r\n    this.flipX = false;\r\n    this.flipY = false;\r\n    this.isVisible = true;\r\n    this.zorder = 0;\r\n}\r\n\r\nfunction BitmapTextRenderer(font, text, scale) {\r\n    this.font = font;\r\n    this.text = text;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.textScale = scale;\r\n    this.anchorXPercent = 0.5;\r\n    this.anchorYPercent = 0.5;\r\n    this.isVisible = true;\r\n    this.zorder = 0;\r\n}\r\n\r\nfunction TextRenderer(font, size, color, text, scale, alignment, baseline) {\r\n    this.font = font;\r\n    this.text = text;\r\n    this.x = 0;\r\n    this.y = 0;\r\n    this.size = size;\r\n    this.color = color;\r\n    this.textScale = scale;\r\n    this.anchorXPercent = 0.5;\r\n    this.anchorYPercent = 0.5;\r\n    this.angleInRadians = 0;\r\n    this.alignment = alignment;\r\n    this.baseline = baseline;\r\n    this.isVisible = true;\r\n    this.zorder = 0;\r\n}\n\n//# sourceURL=webpack://whm/./src/ux/renderer.js?");

/***/ }),

/***/ "./src/ux/sound.js":
/*!*************************!*\
  !*** ./src/ux/sound.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Sound\": () => (/* binding */ Sound)\n/* harmony export */ });\nfunction Sound() {\r\n    this.instance = null;\r\n}\r\n\r\nSound.prototype.setInstance = function(instance){\r\n    this.instance = instance;\r\n};\r\nSound.prototype.getAudio = function(name){\r\n    return this._getAudioObject(name, false);\r\n};\r\nSound.prototype.getAudioInstance = function(name){\r\n    return this._getAudioObject(name, true);\r\n};\r\nSound.prototype._getAudioObject = function(name, isInstance){\r\n    var source = this.instance.assets.getSound(name);\r\n    if(isInstance) source = source.cloneNode();\r\n    return {\r\n        _src: source,\r\n        repeat: false,\r\n        stopped: true,\r\n        play(){\r\n            this.stopped = false;\r\n            var stopped = this.stopped;\r\n            var repeat = this.repeat;\r\n            this._src.addEventListener('ended', function () {\r\n                if (repeat == true && stopped == false) {\r\n                    this.currentTime = 0;\r\n                    this.play();\r\n                }\r\n            }, false);\r\n            this._src.play();\r\n        },\r\n        pause(){\r\n            this._stopped = true;\r\n            this._src.pause();\r\n        },\r\n        stop(){\r\n            this.stopped = true;\r\n            this._src.pause();\r\n            this._src.currentTime = 0;\r\n        },\r\n        setVolume(v){\r\n            this._src.volume = v;\r\n            return this;\r\n        },\r\n        getVolume(){\r\n            return this._src.volume;\r\n        },\r\n        setRepeat(v){\r\n            this.repeat = v;\r\n            this._src.loop = v;\r\n        }\r\n    };\r\n};\n\n//# sourceURL=webpack://whm/./src/ux/sound.js?");

/***/ }),

/***/ "./src/ux/soundobject.js":
/*!*******************************!*\
  !*** ./src/ux/soundobject.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"SoundObject\": () => (/* binding */ SoundObject)\n/* harmony export */ });\n/* harmony import */ var _control_gameobject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../control/gameobject.js */ \"./src/control/gameobject.js\");\n/* harmony import */ var _control_script_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../control/script.js */ \"./src/control/script.js\");\n\r\n\r\n\r\n\r\nfunction SoundObject(instance, audioName, x, y, intensity){\r\n    let obj = new _control_gameobject_js__WEBPACK_IMPORTED_MODULE_0__.GameObject(\"_s\");\r\n    obj.x = x;\r\n    obj.y = y;\r\n    let script = new _control_script_js__WEBPACK_IMPORTED_MODULE_1__.Script();\r\n    var audio = null;\r\n    script.start = function(){\r\n        audio = instance.sound.getAudioInstance(audioName);\r\n        audio.play();\r\n    };\r\n    script.update = function(){\r\n        let dx = obj.x - instance.camera.transform.position.x;\r\n        let dy = obj.y - instance.camera.transform.position.y;\r\n        let distance = Math.sqrt( dx*dx + dy*dy );\r\n        let scalar = (distance <= 1) ? 1 : intensity*100 / (distance * distance);\r\n        let volume = (scalar > 1) ? 1 : scalar;\r\n        audio.setVolume(volume);\r\n    };\r\n    obj.addScript(script);\r\n    return obj;\r\n}\n\n//# sourceURL=webpack://whm/./src/ux/soundobject.js?");

/***/ }),

/***/ "./src/ux/sprite.js":
/*!**************************!*\
  !*** ./src/ux/sprite.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Sprite\": () => (/* binding */ Sprite)\n/* harmony export */ });\nfunction Sprite(imageName, spriteName, isFlippedX, isFlippedY) {\r\n    this.imageName = imageName;\r\n    this.spriteName = spriteName;\r\n    this.isFlippedX = (isFlippedX !== undefined) ? isFlippedX : false;\r\n    this.isFlippedY = (isFlippedY !== undefined) ? isFlippedY : false;\r\n}\n\n//# sourceURL=webpack://whm/./src/ux/sprite.js?");

/***/ }),

/***/ "./src/ux/widgets.js":
/*!***************************!*\
  !*** ./src/ux/widgets.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Button\": () => (/* binding */ Button),\n/* harmony export */   \"Label\": () => (/* binding */ Label)\n/* harmony export */ });\n/* harmony import */ var _control_gameobject_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../control/gameobject.js */ \"./src/control/gameobject.js\");\n/* harmony import */ var _ux_renderer_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ux/renderer.js */ \"./src/ux/renderer.js\");\n/* harmony import */ var _physics_collider_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../physics/collider.js */ \"./src/physics/collider.js\");\n/* harmony import */ var _control_script_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../control/script.js */ \"./src/control/script.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nfunction Button(text, x, y, width, height, color, font, textColor, textSize, onClick){\r\n    let go = new _control_gameobject_js__WEBPACK_IMPORTED_MODULE_0__.GameObject(\"_b\");\r\n    go.transform.position.x = x;\r\n    go.transform.position.y = y;\r\n    go.renderer = new _ux_renderer_js__WEBPACK_IMPORTED_MODULE_1__.RectangleRenderer(width, height, color);\r\n    if(onClick){\r\n        go.addCollider(new _physics_collider_js__WEBPACK_IMPORTED_MODULE_2__.BoxCollider(0.5, 0.5, width, height, false));\r\n        let script = new _control_script_js__WEBPACK_IMPORTED_MODULE_3__.Script();\r\n        script.onMouseDown = function(e) {\r\n            return go.collidesAt(e.x, e.y);\r\n        };\r\n        script.onMouseUp = function(e) {\r\n            if(go.collidesAt(e.x, e.y)){\r\n                if(onClick){ \r\n                    onClick(go);\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        };\r\n        go.addScript(script);\r\n    }\r\n\r\n    if(text){\r\n        let unamePlate = new _control_gameobject_js__WEBPACK_IMPORTED_MODULE_0__.GameObject(\"_t\");\r\n        unamePlate.renderer = new _ux_renderer_js__WEBPACK_IMPORTED_MODULE_1__.TextRenderer(font, textSize, textColor, text, 1, \"center\", \"middle\");\r\n        go.addSubobject(unamePlate);\r\n    }\r\n\r\n    return go;\r\n}\r\n\r\nfunction Label(text, x, y, font, textColor, textSize, alignment, baseline){\r\n    let go = new _control_gameobject_js__WEBPACK_IMPORTED_MODULE_0__.GameObject(\"_l\");\r\n    go.transform.position.x = x;\r\n    go.transform.position.y = y;\r\n    go.renderer = new _ux_renderer_js__WEBPACK_IMPORTED_MODULE_1__.TextRenderer(font, textSize, textColor, text.toString(), 1, alignment, baseline);\r\n    return go;\r\n}\n\n//# sourceURL=webpack://whm/./src/ux/widgets.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});